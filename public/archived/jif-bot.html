<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JIF Bot: Justice, Integrity & Fun Learning | Code with Morais</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --justice-blue: #2563eb;
            --integrity-green: #059669;
            --fun-orange: #ea580c;
            --jif-purple: #7c3aed;
            --bg-color: #0f172a;
            --text-color: #e2e8f0;
            --card-bg: #1e293b;
            --border-color: #334155;
            --accent-gold: #fbbf24;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--bg-color) 0%, #1e1b4b 100%);
            color: var(--text-color);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .hero {
            text-align: center;
            padding: 60px 0;
            background: linear-gradient(135deg, var(--justice-blue) 0%, var(--integrity-green) 50%, var(--fun-orange) 100%);
            margin: -20px -20px 40px -20px;
            border-radius: 0 0 20px 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .hero p {
            font-size: 1.4rem;
            color: rgba(255, 255, 255, 0.9);
            max-width: 700px;
            margin: 0 auto 30px;
        }

        .jif-badges {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .jif-badge {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px 25px;
            border-radius: 30px;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            color: white;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
        }

        .jif-badge:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 255, 255, 0.2);
        }

        .chatbot-container {
            background: var(--card-bg);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
            border: 1px solid var(--border-color);
            margin-bottom: 40px;
        }

        .chat-header {
            background: linear-gradient(135deg, var(--jif-purple), var(--justice-blue));
            color: white;
            padding: 25px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .bot-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .bot-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-gold), #ffffff);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            animation: pulse 2s ease-in-out infinite;
            box-shadow: 0 0 20px rgba(251, 191, 36, 0.5);
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .bot-details h3 {
            margin: 0;
            font-size: 1.5rem;
        }

        .bot-status {
            display: flex;
            align-items: center;
            gap: 8px;
            opacity: 0.9;
        }

        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #10b981;
            animation: blink 2s ease-in-out infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }

        .jif-stats {
            text-align: right;
        }

        .stat-item {
            font-size: 0.9rem;
            margin: 2px 0;
        }

        .chat-messages {
            max-height: 500px;
            overflow-y: auto;
            padding: 25px;
            background: linear-gradient(to bottom, #1e293b 0%, #0f172a 100%);
            scroll-behavior: smooth;
        }

        .chat-messages::-webkit-scrollbar {
            width: 8px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: var(--jif-purple);
            border-radius: 10px;
        }

        .message {
            margin: 20px 0;
            padding: 18px 22px;
            border-radius: 20px;
            max-width: 85%;
            position: relative;
            animation: messageSlide 0.4s ease-out;
            word-wrap: break-word;
        }

        @keyframes messageSlide {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .user-message {
            background: linear-gradient(135deg, var(--justice-blue), var(--jif-purple));
            color: white;
            margin-left: auto;
            border-bottom-right-radius: 6px;
            box-shadow: 0 6px 20px rgba(37, 99, 235, 0.3);
        }

        .bot-message {
            background: linear-gradient(135deg, #374151, #1f2937);
            color: var(--text-color);
            border-bottom-left-radius: 6px;
            border-left: 4px solid var(--accent-gold);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .message-content {
            line-height: 1.6;
        }

        .message-time {
            font-size: 0.75rem;
            opacity: 0.7;
            margin-top: 8px;
            text-align: right;
        }

        .bot-message .message-time {
            text-align: left;
        }

        .scenario-box {
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.1), rgba(5, 150, 105, 0.1));
            border: 2px solid rgba(37, 99, 235, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            position: relative;
            overflow: hidden;
        }

        .scenario-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--justice-blue), var(--integrity-green), var(--fun-orange));
        }

        .scenario-title {
            color: var(--accent-gold);
            font-weight: bold;
            font-size: 1.1rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .quiz-options {
            display: grid;
            gap: 12px;
            margin: 15px 0;
        }

        .quiz-option {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .quiz-option:hover {
            border-color: var(--jif-purple);
            background: rgba(124, 58, 237, 0.1);
            transform: translateX(5px);
        }

        .quiz-option.correct {
            border-color: var(--integrity-green);
            background: rgba(5, 150, 105, 0.2);
            animation: correctAnswer 0.5s ease;
        }

        .quiz-option.incorrect {
            border-color: #ef4444;
            background: rgba(239, 68, 68, 0.2);
            animation: shake 0.5s ease;
        }

        @keyframes correctAnswer {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .debate-prompt {
            background: linear-gradient(135deg, rgba(234, 88, 12, 0.1), rgba(124, 58, 237, 0.1));
            border: 2px solid var(--fun-orange);
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
        }

        .debate-sides {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 15px;
        }

        .debate-side {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            border-left: 4px solid;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .side-for {
            border-left-color: var(--integrity-green);
        }

        .side-against {
            border-left-color: #ef4444;
        }

        .debate-side:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .typing-indicator {
            display: none;
            padding: 18px 22px;
            background: rgba(124, 58, 237, 0.1);
            border-radius: 20px;
            margin: 15px 0;
            border-left: 4px solid var(--jif-purple);
            animation: fadeIn 0.3s ease;
        }

        .typing-indicator.show {
            display: block;
        }

        .typing-dots {
            display: inline-flex;
            gap: 4px;
            align-items: center;
        }

        .typing-dots span {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--jif-purple);
            animation: typingDots 1.4s ease-in-out infinite both;
        }

        .typing-dots span:nth-child(1) { animation-delay: -0.32s; }
        .typing-dots span:nth-child(2) { animation-delay: -0.16s; }

        @keyframes typingDots {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }

        .input-area {
            display: flex;
            gap: 15px;
            padding: 25px;
            background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 100%);
            border-top: 1px solid var(--border-color);
        }

        .input-container {
            flex: 1;
            position: relative;
        }

        .user-input {
            width: 100%;
            padding: 18px 25px;
            border: 2px solid var(--border-color);
            border-radius: 30px;
            background: rgba(30, 41, 59, 0.8);
            color: var(--text-color);
            font-size: 1rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .user-input:focus {
            outline: none;
            border-color: var(--jif-purple);
            box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.2);
            transform: translateY(-1px);
        }

        .user-input::placeholder {
            color: #94a3b8;
            font-style: italic;
        }

        .send-button {
            padding: 18px 30px;
            background: linear-gradient(135deg, var(--jif-purple), var(--justice-blue));
            color: white;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(124, 58, 237, 0.4);
        }

        .send-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(124, 58, 237, 0.5);
        }

        .quick-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 25px 0;
            padding-bottom: 15px;
        }

        .quick-action {
            background: rgba(124, 58, 237, 0.1);
            border: 1px solid var(--jif-purple);
            color: var(--jif-purple);
            padding: 10px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quick-action:hover {
            background: var(--jif-purple);
            color: white;
            transform: translateY(-1px);
        }

        .core-concepts {
            margin: 40px 0;
        }

        .concepts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .concept-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            border: 2px solid;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .concept-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: inherit;
        }

        .justice-card {
            border-color: var(--justice-blue);
        }

        .justice-card::before {
            background: var(--justice-blue);
        }

        .integrity-card {
            border-color: var(--integrity-green);
        }

        .integrity-card::before {
            background: var(--integrity-green);
        }

        .fun-card {
            border-color: var(--fun-orange);
        }

        .fun-card::before {
            background: var(--fun-orange);
        }

        .concept-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .concept-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            text-align: center;
            display: block;
        }

        .concept-title {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
        }

        .concept-description {
            font-size: 1.1rem;
            margin-bottom: 20px;
            opacity: 0.9;
            line-height: 1.7;
        }

        .concept-examples {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
        }

        .concept-examples h4 {
            color: var(--accent-gold);
            margin-bottom: 10px;
            font-size: 1rem;
        }

        .concept-examples ul {
            margin-left: 20px;
        }

        .concept-examples li {
            margin-bottom: 5px;
            opacity: 0.9;
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .hero p {
                font-size: 1.2rem;
            }
            
            .jif-badges {
                flex-direction: column;
                align-items: center;
            }
            
            .concepts-grid {
                grid-template-columns: 1fr;
            }
            
            .debate-sides {
                grid-template-columns: 1fr;
            }
            
            .chat-header {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }
            
            .jif-stats {
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="hero">
            <h1>ü§ñ JIF Bot</h1>
            <p>Your Interactive Guide to Justice, Integrity & Fun!</p>
            <div class="jif-badges">
                <div class="jif-badge">
                    <i class="fas fa-balance-scale"></i>
                    <span>Justice: Fair & Deserved</span>
                </div>
                <div class="jif-badge">
                    <i class="fas fa-puzzle-piece"></i>
                    <span>Integrity: Wholeness & Accountability</span>
                </div>
                <div class="jif-badge">
                    <i class="fas fa-heart"></i>
                    <span>Fun: Joy at Work</span>
                </div>
            </div>
        </div>

        <div class="core-concepts">
            <h2 style="text-align: center; color: var(--accent-gold); font-size: 2.5rem; margin-bottom: 20px;">
                <i class="fas fa-star"></i> The JIF Values Framework
            </h2>
            <p style="text-align: center; font-size: 1.2rem; margin-bottom: 40px; opacity: 0.9; max-width: 800px; margin-left: auto; margin-right: auto;">
                Understanding these three interconnected values helps create better workplaces, stronger relationships, and more ethical decision-making in all aspects of life.
            </p>

            <div class="concepts-grid">
                <div class="concept-card justice-card">
                    <div class="concept-icon" style="color: var(--justice-blue);">‚öñÔ∏è</div>
                    <h3 class="concept-title" style="color: var(--justice-blue);">Justice</h3>
                    <p class="concept-description">
                        Justice gives to each person what he or she deserves and what is appropriate. It's about fairness, equality, and ensuring that actions have proportionate consequences.
                    </p>
                    <div class="concept-examples">
                        <h4>Key Principles:</h4>
                        <ul>
                            <li>Fair treatment for all individuals</li>
                            <li>Proportionate rewards and consequences</li>
                            <li>Equal opportunities regardless of background</li>
                            <li>Transparent and consistent decision-making</li>
                            <li>Recognition based on merit and effort</li>
                        </ul>
                    </div>
                </div>

                <div class="concept-card integrity-card">
                    <div class="concept-icon" style="color: var(--integrity-green);">üß©</div>
                    <h3 class="concept-title" style="color: var(--integrity-green);">Integrity</h3>
                    <p class="concept-description">
                        Integrity means wholeness, or how things fit together. It requires responsibility and accountability, ensuring alignment between values, words, and actions.
                    </p>
                    <div class="concept-examples">
                        <h4>Key Principles:</h4>
                        <ul>
                            <li>Consistency between beliefs and actions</li>
                            <li>Taking responsibility for decisions and outcomes</li>
                            <li>Being accountable to others and yourself</li>
                            <li>Honest communication and transparency</li>
                            <li>Maintaining ethical standards under pressure</li>
                        </ul>
                    </div>
                </div>

                <div class="concept-card fun-card">
                    <div class="concept-icon" style="color: var(--fun-orange);">üéâ</div>
                    <h3 class="concept-title" style="color: var(--fun-orange);">Fun</h3>
                    <p class="concept-description">
                        Fun means cultivating a Joy at Work environment where every voice matters through shared decision-making. It's about creating positive, inclusive, and engaging experiences.
                    </p>
                    <div class="concept-examples">
                        <h4>Key Principles:</h4>
                        <ul>
                            <li>Inclusive environments where all voices are heard</li>
                            <li>Shared decision-making and collaboration</li>
                            <li>Positive and supportive workplace culture</li>
                            <li>Celebrating achievements and learning from failures</li>
                            <li>Balancing productivity with well-being</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="chatbot-container">
            <div class="chat-header">
                <div class="bot-info">
                    <div class="bot-avatar">ü§ñ</div>
                    <div class="bot-details">
                        <h3>JIF Bot</h3>
                        <div class="bot-status">
                            <div class="status-dot"></div>
                            <span>Ready to explore JIF values!</span>
                        </div>
                    </div>
                </div>
                <div class="jif-stats">
                    <div class="stat-item">üéØ <span id="questionsAnswered">0</span> Questions Answered</div>
                    <div class="stat-item">üé≠ <span id="scenariosExplored">0</span> Scenarios Explored</div>
                    <div class="stat-item">üí¨ <span id="debatesJoined">0</span> Debates Joined</div>
                </div>
            </div>

            <div id="chat-messages" class="chat-messages">
                <div class="message bot-message">
                    <div class="message-content">
                        <strong>JIF Bot:</strong> Welcome! I'm here to help you explore and understand the three core values: <strong>Justice</strong>, <strong>Integrity</strong>, and <strong>Fun</strong>! üåü<br><br>
                        
                        <strong>What I can help you with:</strong>
                        <ul style="margin: 15px 0; padding-left: 25px; line-height: 1.8;">
                            <li>üîç Explore real-world scenarios for each value</li>
                            <li>üìù Take interactive quizzes to test your understanding</li>
                            <li>üí¨ Join debates on ethical dilemmas</li>
                            <li>üéØ Get personalized examples and explanations</li>
                            <li>üéÆ Play engaging activities about JIF values</li>
                        </ul>
                        
                        <div style="background: rgba(251, 191, 36, 0.1); border-radius: 10px; padding: 15px; margin-top: 15px; border-left: 4px solid var(--accent-gold);">
                            <strong>üí° Try asking:</strong> "Give me a Justice scenario", "Quiz me on Integrity", "Let's debate about Fun at work", or "Explain Justice with examples"
                        </div>
                    </div>
                    <div class="message-time" id="welcome-time"></div>
                </div>

                <div class="typing-indicator" id="typing-indicator">
                    <strong>JIF Bot is thinking</strong>
                    <div class="typing-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            </div>

            <div class="quick-actions">
                <div class="quick-action" onclick="sendQuickMessage('Give me a Justice scenario')">‚öñÔ∏è Justice Scenario</div>
                <div class="quick-action" onclick="sendQuickMessage('Quiz me on Integrity')">üß© Integrity Quiz</div>
                <div class="quick-action" onclick="sendQuickMessage('Let me join a Fun debate')">üé≠ Fun Debate</div>
                <div class="quick-action" onclick="sendQuickMessage('Explain all three values')">üìö Learn JIF</div>
                <div class="quick-action" onclick="sendQuickMessage('Give me school examples')">ÔøΩ School Examples</div>
            </div>

            <div class="input-area">
                <div class="input-container">
                    <input type="text" id="user-input" class="user-input" placeholder="Ask about Justice, Integrity, Fun, or request scenarios and quizzes..." onkeypress="handleKeyPress(event)">
                </div>
                <button class="send-button" onclick="sendMessage()">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>

    </div>

    <script>
        class JIFBot {
            constructor() {
                this.stats = {
                    questionsAnswered: 0,
                    scenariosExplored: 0,
                    debatesJoined: 0
                };
                
                this.currentQuiz = null;
                this.currentDebate = null;
                this.userProgress = JSON.parse(localStorage.getItem('jifBotProgress') || '{}');
                
                this.scenarios = {
                    justice: [
                        {
                            title: "Student Council Election Drama",
                            situation: "Two students are running for class president. Alex is popular and well-liked but hasn't done much for the class. Jordan is less popular but has organized several successful fundraisers and volunteered for school events. Who deserves your vote?",
                            options: [
                                "Alex, because they're popular and everyone likes them",
                                "Jordan, because they've actually done things to help the school",
                                "Whoever promises the best things for next year",
                                "Don't vote - it doesn't really matter"
                            ],
                            correct: 1,
                            explanation: "Justice means giving people what they deserve based on their actions and contributions. Jordan has demonstrated actual commitment to helping others, which deserves recognition. Popularity alone doesn't equal merit."
                        },
                        {
                            title: "Group Project Grade Dilemma",
                            situation: "Your group project is due tomorrow. Three people did all the work while one person, Sam, barely contributed but still expects an equal grade. The teacher asks each group member to rate everyone's contribution.",
                            options: [
                                "Give everyone the same rating to avoid drama",
                                "Rate honestly based on actual contributions",
                                "Give Sam a slightly lower rating to be 'nice'",
                                "Let the group decide together what ratings to give"
                            ],
                            correct: 1,
                            explanation: "Justice requires honest evaluation of contributions. People should receive grades that reflect their actual effort and work. Being fair to those who worked hard means being honest about those who didn't."
                        },
                        {
                            title: "Lunch Money Incident",
                            situation: "You see a student accidentally drop their lunch money ($10) in the hallway. They don't notice and keep walking. You could keep it, turn it in to the office, or chase after them to return it.",
                            options: [
                                "Keep it - finders keepers",
                                "Chase after them and return it immediately",
                                "Turn it in to the office lost and found",
                                "Ask friends what they think you should do first"
                            ],
                            correct: 1,
                            explanation: "Justice means the money belongs to the person who dropped it, regardless of whether they know it's missing. Returning it directly ensures they get what's rightfully theirs and shows respect for others' property."
                        }
                    ],
                    integrity: [
                        {
                            title: "The Quiz Whisper",
                            situation: "You're taking a quiz. A classmate whispers, 'What's number 5?' The teacher's back is turned. If you help, no one will know. Do you keep your integrity or help them?",
                            options: [
                                "Whisper the answer quickly - no one will know",
                                "Ignore them and focus on your own test",
                                "Quietly suggest they ask the teacher for clarification",
                                "Point to your paper so they can see the answer"
                            ],
                            correct: 2,
                            explanation: "Integrity means your actions match your values even when no one is watching. Suggesting they ask the teacher maintains your wholeness while still being helpful. Your 'integrity wholeness' stays intact when your actions align with honesty and responsibility."
                        },
                        {
                            title: "The Teacher's Slip",
                            situation: "A teacher gives a big speech about deadlines... then forgets to post the project instructions until the night before it's due. Students are mad and say, 'If we're accountable, shouldn't teachers be too?'",
                            options: [
                                "Defend the original deadline - rules are rules",
                                "Acknowledge the mistake and extend the deadline appropriately", 
                                "Blame the technology for the delay",
                                "Give everyone an automatic A to avoid the problem"
                            ],
                            correct: 1,
                            explanation: "Integrity requires admitting mistakes and taking responsibility. A teacher showing accountability by acknowledging the error and adjusting fairly actually builds more respect than making excuses. This demonstrates that integrity means aligning actions with values, especially when you mess up."
                        },
                        {
                            title: "The Snapchat Roast",
                            situation: "A group chat blows up with screenshots making fun of a student's outfit from Spirit Week. You laugh, but then remember your school talks about kindness and respect every day.",
                            options: [
                                "Keep laughing - everyone else is doing it",
                                "Leave the chat without saying anything",
                                "Speak up against the bullying and redirect the conversation",
                                "Screenshot it to show other friends later"
                            ],
                            correct: 2,
                            explanation: "Joining in breaks your integrity because your actions (laughing at someone) contradict your values (kindness and respect). Integrity means bringing your actions back in line with your values, even when it's socially risky. Speaking up restores your wholeness."
                        },
                        {
                            title: "The VIP Pass",
                            situation: "A student-athlete shows up late to class three times in one week. The teacher just smiles and says, 'It's fine, I know you've got practice.' The rest of the class is instantly annoyed.",
                            options: [
                                "Say nothing - it's not your business",
                                "Complain loudly about the unfairness",
                                "Respectfully ask the teacher about the attendance policy privately",
                                "Start showing up late yourself since it seems okay"
                            ],
                            correct: 2,
                            explanation: "This breaks integrity's wholeness because the teacher's words (everyone follows rules) don't match actions (special treatment). Speaking privately shows integrity by addressing unfairness respectfully rather than gossiping or retaliating. It maintains your own wholeness while seeking fairness."
                        },
                        {
                            title: "Deadline vs Quality Conflict",
                            situation: "Your boss is pushing for a project deadline that you know will require cutting corners on quality and safety standards. The client doesn't know about these potential issues.",
                            options: [
                                "Meet the deadline and hope nothing goes wrong",
                                "Inform your boss about the quality risks and suggest alternatives",
                                "Meet the deadline but document the risks to protect yourself",
                                "Go directly to the client with your concerns"
                            ],
                            correct: 1,
                            explanation: "Integrity requires being honest about risks and taking responsibility for quality. The accountable approach is to communicate concerns to your boss and work together to find solutions that don't compromise standards."
                        },
                        {
                            title: "Mistake Accountability Scenario",
                            situation: "You made an error that will cost the company money, but it could easily be blamed on a system glitch. No one would question this explanation, and it would save your reputation.",
                            options: [
                                "Blame the system glitch - no harm done",
                                "Take full responsibility and propose solutions",
                                "Find a middle ground explanation that's partially true",
                                "Let someone else discover the real cause later"
                            ],
                            correct: 1,
                            explanation: "Integrity means taking responsibility for your actions, even when it's difficult. Owning mistakes builds trust, shows character, and allows for learning and improvement."
                        }
                    ],
                    fun: [
                        {
                            title: "Class Discussion Dynamics",
                            situation: "During class discussions, the same three students always raise their hands and talk, while 20 others stay silent. As a student leader, how can you help create a more inclusive environment where everyone feels comfortable participating?",
                            options: [
                                "Let it continue - some people are naturally more talkative",
                                "Suggest the teacher use think-pair-share or anonymous polls",
                                "Tell the talkative students to stop participating so much",
                                "Only speak up yourself when no one else volunteers"
                            ],
                            correct: 1,
                            explanation: "Fun means creating joy through inclusion where every voice matters. Different formats help shy students contribute comfortably while still valuing the eager participants. This creates shared decision-making in classroom discussions."
                        },
                        {
                            title: "School Spirit Week Planning",
                            situation: "Student council is planning Spirit Week themes. Some students want competitive themes that mainly appeal to athletes and popular kids, while others want inclusive themes everyone can enjoy regardless of their interests or abilities.",
                            options: [
                                "Go with competitive themes - they're more exciting",
                                "Choose themes that everyone can participate in comfortably",
                                "Alternate between competitive and inclusive days",
                                "Let each class vote on their own theme"
                            ],
                            correct: 1,
                            explanation: "Fun at school means creating joy where every voice matters. Inclusive themes ensure all students can participate and feel school spirit, not just certain groups. This builds a positive community for everyone."
                        },
                        {
                            title: "Study Group Dynamics",
                            situation: "Your study group has become dominated by two students who always want to do things their way. Others in the group seem uncomfortable speaking up about different study methods they prefer.",
                            options: [
                                "Let the two dominant students lead - they seem confident",
                                "Rotate leadership and try different study methods each session",
                                "Split into smaller groups with different approaches",
                                "Suggest everyone takes turns teaching a concept their preferred way"
                            ],
                            correct: 3,
                            explanation: "Fun through shared decision-making means everyone gets to contribute their strengths. When each person teaches their way, all voices matter and the group benefits from diverse learning approaches."
                        }
                    ]
                };

                this.debates = [
                    {
                        topic: "Should student council positions be based purely on grades and achievements or should other factors like representing diverse student voices also be considered?",
                        context: "This touches on Justice (fair representation), Integrity (honest evaluation), and Fun (inclusive student government)",
                        sideFor: "Include diverse voices to ensure all students are represented and heard",
                        sideAgainst: "Base selections solely on academic merit and proven achievements",
                        values: ["justice", "integrity", "fun"]
                    },
                    {
                        topic: "Should school spirit activities be mandatory for all students or completely voluntary?",
                        context: "This explores Fun (school joy), Justice (respecting individual preferences), and Integrity (authentic participation)",
                        sideFor: "Mandatory participation ensures school unity and shared experiences for everyone",
                        sideAgainst: "Voluntary participation respects individual differences and creates genuine enthusiasm",
                        values: ["fun", "justice", "integrity"]
                    },
                    {
                        topic: "Should students be required to report when they see classmates cheating, even if it hurts friendships?",
                        context: "This involves Integrity (academic honesty), Justice (fair academic competition), and Fun (maintaining positive relationships)",
                        sideFor: "Reporting cheating maintains academic integrity and protects honest students",
                        sideAgainst: "Focus on personal integrity and peer conversations rather than formal reporting",
                        values: ["integrity", "justice", "fun"]
                    },
                    {
                        topic: "Should schools have dress codes that enforce 'professional appearance' or allow complete freedom of expression?",
                        context: "This explores Justice (equal treatment), Fun (self-expression and comfort), and Integrity (authentic self-representation)",
                        sideFor: "Dress codes create equality by reducing economic and social pressures about clothing",
                        sideAgainst: "Freedom of expression allows students to show integrity through authentic self-presentation",
                        values: ["justice", "fun", "integrity"]
                    },
                    {
                        topic: "Should group project grades be individual (based on each person's contribution) or collective (everyone gets the same grade)?",
                        context: "This involves Justice (fair recognition), Integrity (honest assessment), and Fun (collaborative learning)",
                        sideFor: "Individual grades ensure justice by recognizing actual effort and contribution",
                        sideAgainst: "Collective grades promote true collaboration and shared responsibility",
                        values: ["justice", "integrity", "fun"]
                    }
                ];

                this.quizzes = {
                    justice: [
                        {
                            question: "What is the primary focus of Justice in high school?",
                            options: [
                                "Making sure everyone gets the same grade",
                                "Giving people what they deserve based on their effort and actions", 
                                "Following all school rules without question",
                                "Making sure no one ever feels bad"
                            ],
                            correct: 1,
                            explanation: "Justice in high school means recognizing people's actual contributions and efforts. It's not about identical outcomes, but fair treatment and appropriate consequences."
                        },
                        {
                            question: "Which situation best shows Justice in action at school?",
                            options: [
                                "A teacher giving everyone an A to make them happy",
                                "Choosing team captains based on who's most popular", 
                                "Selecting student council members based on their ideas and commitment",
                                "Letting students choose their own grades"
                            ],
                            correct: 2,
                            explanation: "Justice means evaluating people based on merit - their actual ideas, work, and commitment - rather than popularity, favoritism, or just making everyone feel good."
                        },
                        {
                            question: "When is it just to treat students differently?",
                            options: [
                                "Never - everyone should always be treated exactly the same",
                                "When someone has different needs or has earned different consequences", 
                                "When some students are more popular than others",
                                "When teachers have personal favorites"
                            ],
                            correct: 1,
                            explanation: "Justice recognizes that fair treatment sometimes means different treatment. Students with learning differences may need accommodations, and students who work hard may earn recognition."
                        }
                    ],
                    integrity: [
                        {
                            question: "What does 'wholeness' mean in the context of Integrity?",
                            options: [
                                "Being perfect in everything you do",
                                "Alignment between values, words, and actions", 
                                "Working full-time without breaks",
                                "Completing all tasks assigned"
                            ],
                            correct: 1,
                            explanation: "Integrity as wholeness means your beliefs, words, and actions are consistent and aligned, creating a coherent and authentic character."
                        },
                        {
                            question: "Which behavior best demonstrates Integrity?",
                            options: [
                                "Avoiding responsibility when things go wrong",
                                "Taking credit for others' work", 
                                "Taking accountability for mistakes and learning from them",
                                "Always saying yes to avoid conflict"
                            ],
                            correct: 2,
                            explanation: "Integrity requires taking responsibility and being accountable for both successes and failures, using them as opportunities for growth."
                        }
                    ],
                    fun: [
                        {
                            question: "What is the key aspect of Fun in a high school context?",
                            options: [
                                "Having no rules and doing whatever you want",
                                "Creating joy where every student's voice matters in decisions", 
                                "Making everything into a game or competition",
                                "Never having serious discussions about problems"
                            ],
                            correct: 1,
                            explanation: "Fun at school means creating an environment where students feel joy and engagement because they know their voices matter and they can contribute to decisions that affect them."
                        },
                        {
                            question: "How does Fun relate to learning in school?",
                            options: [
                                "Fun always distracts from serious learning",
                                "Fun and academic success are completely separate", 
                                "When students enjoy school and feel included, they often learn better",
                                "You must choose between having fun and getting good grades"
                            ],
                            correct: 2,
                            explanation: "When students feel joy and inclusion at school, they're more engaged, creative, and motivated to learn. Fun creates an environment where learning can thrive."
                        },
                        {
                            question: "What makes school activities truly 'fun' according to JIF values?",
                            options: [
                                "When they're competitive and only the best students participate",
                                "When every student can participate meaningfully regardless of their abilities", 
                                "When they don't require any effort or challenge",
                                "When teachers aren't involved at all"
                            ],
                            correct: 1,
                            explanation: "True fun means inclusive joy where every voice matters. Activities are most fun when all students can participate meaningfully, bringing their unique strengths and perspectives."
                        }
                    ]
                };

                this.loadStats();
            }

            saveStats() {
                localStorage.setItem('jifBotProgress', JSON.stringify(this.userProgress));
                document.getElementById('questionsAnswered').textContent = this.stats.questionsAnswered;
                document.getElementById('scenariosExplored').textContent = this.stats.scenariosExplored;
                document.getElementById('debatesJoined').textContent = this.stats.debatesJoined;
            }

            loadStats() {
                this.stats = { ...this.stats, ...this.userProgress };
                this.saveStats();
            }

            getBotResponse(userInput) {
                const input = userInput.toLowerCase().trim();

                // Greetings
                if (this.isGreeting(input)) {
                    return this.getGreetingResponse();
                }

                // Justice queries
                if (this.isAbout(input, 'justice')) {
                    if (this.isRequesting(input, ['scenario', 'example', 'situation'])) {
                        return this.getScenario('justice');
                    } else if (this.isRequesting(input, ['quiz', 'question', 'test'])) {
                        return this.getQuiz('justice');
                    } else {
                        return this.getJusticeExplanation();
                    }
                }

                // Integrity queries  
                if (this.isAbout(input, 'integrity')) {
                    if (this.isRequesting(input, ['scenario', 'example', 'situation'])) {
                        return this.getScenario('integrity');
                    } else if (this.isRequesting(input, ['quiz', 'question', 'test'])) {
                        return this.getQuiz('integrity');
                    } else {
                        return this.getIntegrityExplanation();
                    }
                }

                // Fun queries
                if (this.isAbout(input, 'fun')) {
                    if (this.isRequesting(input, ['scenario', 'example', 'situation'])) {
                        return this.getScenario('fun');
                    } else if (this.isRequesting(input, ['quiz', 'question', 'test'])) {
                        return this.getQuiz('fun');
                    } else if (this.isRequesting(input, ['debate', 'discuss', 'argue'])) {
                        return this.getDebate();
                    } else {
                        return this.getFunExplanation();
                    }
                }

                // Debate requests
                if (this.isRequesting(input, ['debate', 'discuss', 'argue', 'ethical'])) {
                    return this.getDebate();
                }

                // General scenarios
                if (this.isRequesting(input, ['scenario', 'situation', 'example'])) {
                    const values = ['justice', 'integrity', 'fun'];
                    const randomValue = values[Math.floor(Math.random() * values.length)];
                    return this.getScenario(randomValue);
                }

                // All values explanation
                if (this.isRequesting(input, ['all', 'three', 'explain', 'jif', 'values'])) {
                    return this.getAllValuesExplanation();
                }

                // School examples
                if (this.isRequesting(input, ['school', 'classroom', 'high school', 'student', 'academic'])) {
                    return this.getSchoolExamples();
                }

                // Help requests
                if (this.isRequesting(input, ['help', 'what', 'how', 'can'])) {
                    return this.getHelpResponse();
                }

                // Default response
                return this.getDefaultResponse();
            }

            isGreeting(input) {
                return ['hello', 'hi', 'hey', 'greetings', 'good morning', 'good afternoon'].some(greeting => 
                    input.includes(greeting)
                );
            }

            isAbout(input, value) {
                return input.includes(value);
            }

            isRequesting(input, keywords) {
                return keywords.some(keyword => input.includes(keyword));
            }

            getGreetingResponse() {
                const greetings = [
                    "Hello! I'm JIF Bot, your guide to Justice, Integrity, and Fun! üåü What would you like to explore today?",
                    "Hi there! Ready to dive into some engaging discussions about Justice, Integrity, and Fun? üöÄ",
                    "Greetings! I'm excited to help you understand and apply JIF values. What's on your mind? ü§ñ"
                ];
                return greetings[Math.floor(Math.random() * greetings.length)];
            }

            getJusticeExplanation() {
                return `‚öñÔ∏è **Justice: Giving Each Person What They Deserve**

Justice is about **fairness and proportionality**. It means:

üîπ **Fair Treatment**: Everyone gets equal consideration and opportunities
üîπ **Merit-Based Rewards**: Recognition and consequences match actions and contributions  
üîπ **Proportionate Responses**: The response fits the situation appropriately
üîπ **Consistent Standards**: Same rules and expectations apply to everyone

**Real-world examples:**
‚Ä¢ Promoting the most qualified candidate regardless of personal relationships
‚Ä¢ Giving credit where credit is due for project contributions
‚Ä¢ Applying disciplinary measures consistently across all employees
‚Ä¢ Ensuring equal access to development opportunities

Want to explore a Justice scenario or take a quiz? Just ask! üéØ`;
            }

            getIntegrityExplanation() {
                return `üß© **Integrity: Wholeness and Accountability**

Integrity means **alignment and responsibility**. It includes:

üîπ **Wholeness**: Your values, words, and actions fit together consistently
üîπ **Accountability**: Taking responsibility for your decisions and their outcomes
üîπ **Transparency**: Being honest and open in your communications
üîπ **Reliability**: Others can count on you to do what you say you'll do

**Real-world examples:**
‚Ä¢ Admitting mistakes and working to fix them instead of hiding or blaming others
‚Ä¢ Standing by your principles even when it's difficult or unpopular
‚Ä¢ Delivering on promises and commitments you make to colleagues
‚Ä¢ Being honest about capabilities and limitations when taking on projects

Ready for an Integrity scenario or quiz? Let me know! üéØ`;
            }

            getFunExplanation() {
                return `üéâ **Fun: Joy at Work Through Inclusion**

Fun means creating **joyful and inclusive environments**. It involves:

üîπ **Every Voice Matters**: All team members feel heard and valued
üîπ **Shared Decision-Making**: Collaborative approaches to choices that affect the team
üîπ **Positive Culture**: Building an environment where people enjoy coming to work
üîπ **Inclusive Engagement**: Activities and processes that work for different personality types

**Real-world examples:**
‚Ä¢ Using diverse meeting formats so everyone can contribute comfortably
‚Ä¢ Celebrating team achievements in ways that resonate with all members
‚Ä¢ Creating flexible work arrangements that support different life situations
‚Ä¢ Encouraging creative problem-solving and experimentation

Want to explore a Fun scenario or join a debate about workplace joy? Ask away! üéØ`;
            }

            getAllValuesExplanation() {
                return `üåü **The JIF Values Framework: Working Together**

These three values are **interconnected and mutually reinforcing**:

‚öñÔ∏è **Justice** ensures fairness and appropriate treatment
üß© **Integrity** provides the foundation of trust and accountability  
üéâ **Fun** creates the positive environment where both can flourish

**How they work together:**
‚Ä¢ Justice without integrity lacks authenticity
‚Ä¢ Integrity without fun can become rigid and joyless
‚Ä¢ Fun without justice can become exclusive or unfair
‚Ä¢ All three together create sustainable, ethical, and engaging environments

**In practice:**
A team leader uses **Integrity** to honestly assess performance, applies **Justice** to ensure fair recognition and development opportunities, and creates **Fun** through inclusive decision-making about team goals and processes.

Want to explore scenarios that combine multiple values? Let's dive in! üöÄ`;
            }

            getSchoolExamples() {
                return `ÔøΩ **JIF Values in High School**

**Justice Examples:**
‚Ä¢ Grading based on clear rubrics and actual student work
‚Ä¢ Equal opportunities to participate in clubs, sports, and activities
‚Ä¢ Fair distribution of leadership roles and recognition
‚Ä¢ Transparent processes for student government and awards

**Integrity Examples:**  
‚Ä¢ Honest communication about assignment deadlines and expectations
‚Ä¢ Taking responsibility for mistakes in group projects and celebrating team successes
‚Ä¢ Following through on commitments to classmates and teachers
‚Ä¢ Making ethical choices even when friends pressure you differently

**Fun Examples:**
‚Ä¢ Class discussions where everyone's ideas are valued and heard
‚Ä¢ Diverse activity formats (debates, presentations, hands-on projects)
‚Ä¢ Celebrating different learning styles and cultural perspectives
‚Ä¢ Creating safe spaces where students can take academic risks and learn from mistakes

**Combined Example:**
During a school fundraiser crisis, student leaders show **Integrity** by honestly assessing what went wrong, apply **Justice** by not blaming individuals but addressing planning issues, and maintain **Fun** by involving the whole class in brainstorming solutions and celebrating what they learned.

Want to explore a specific school scenario? üéØ`;
            }

            getScenario(value) {
                this.stats.scenariosExplored++;
                this.userProgress.scenariosExplored = this.stats.scenariosExplored;
                this.saveStats();

                const scenarios = this.scenarios[value];
                const scenario = scenarios[Math.floor(Math.random() * scenarios.length)];
                
                const valueIcons = {
                    justice: '‚öñÔ∏è',
                    integrity: 'üß©', 
                    fun: 'üéâ'
                };

                return `${valueIcons[value]} **${value.toUpperCase()} SCENARIO: ${scenario.title}**

**Situation:**
${scenario.situation}

**What would you do?**
A) ${scenario.options[0]}
B) ${scenario.options[1]}  
C) ${scenario.options[2]}
D) ${scenario.options[3]}

Type your answer (A, B, C, or D) and I'll explain the best approach from a ${value} perspective! ü§î`;
            }

            getQuiz(value) {
                this.stats.questionsAnswered++;
                this.userProgress.questionsAnswered = this.stats.questionsAnswered;
                this.saveStats();

                const quizzes = this.quizzes[value];
                const quiz = quizzes[Math.floor(Math.random() * quizzes.length)];
                this.currentQuiz = { ...quiz, value };

                const valueIcons = {
                    justice: '‚öñÔ∏è',
                    integrity: 'üß©',
                    fun: 'üéâ'
                };

                return `${valueIcons[value]} **${value.toUpperCase()} QUIZ**

**${quiz.question}**

A) ${quiz.options[0]}
B) ${quiz.options[1]}
C) ${quiz.options[2]}  
D) ${quiz.options[3]}

Choose your answer (A, B, C, or D)! üìù`;
            }

            getDebate() {
                this.stats.debatesJoined++;
                this.userProgress.debatesJoined = this.stats.debatesJoined;
                this.saveStats();

                const debate = this.debates[Math.floor(Math.random() * this.debates.length)];
                this.currentDebate = debate;

                return `üé≠ **DEBATE TIME!**

**Topic:** ${debate.topic}

**Context:** ${debate.context}

**üü¢ Position FOR:** ${debate.sideFor}

**üî¥ Position AGAINST:** ${debate.sideAgainst}

Which side do you support? Type "FOR" or "AGAINST" and tell me your reasoning! I'll engage with your perspective and help explore how the JIF values apply to this dilemma. üí≠`;
            }

            getHelpResponse() {
                return `ü§ñ **How I Can Help You Explore JIF Values**

**üìö Learning:**
‚Ä¢ "Explain Justice" - Get detailed explanations with examples
‚Ä¢ "What is Integrity?" - Understand wholeness and accountability
‚Ä¢ "Tell me about Fun" - Learn about joy and inclusion at work

**üéØ Interactive Activities:**
‚Ä¢ "Give me a Justice scenario" - Explore real-world situations
‚Ä¢ "Quiz me on Integrity" - Test your understanding
‚Ä¢ "Start a Fun debate" - Engage with ethical dilemmas

**üí° Practical Applications:**
‚Ä¢ "Workplace examples" - See JIF values in professional settings
‚Ä¢ "How do they work together?" - Understand the interconnections
‚Ä¢ "Give me a challenging situation" - Practice applying multiple values

**üéÆ Engagement Options:**
‚Ä¢ Type specific answers to scenarios and quizzes
‚Ä¢ Join debates by choosing sides and explaining your reasoning
‚Ä¢ Ask for examples from specific industries or situations

Just start typing what interests you most! üöÄ`;
            }

            getDefaultResponse() {
                const responses = [
                    "That's an interesting point! Could you be more specific about which JIF value you'd like to explore? Try asking about Justice, Integrity, or Fun! ü§î",
                    "I'd love to help you dive deeper! Ask me for scenarios, quizzes, debates, or explanations about Justice, Integrity, and Fun. What interests you most? üåü",
                    "Great question! I can help with scenarios, quizzes, debates, and explanations about the JIF values. What would you like to explore first? üöÄ"
                ];
                return responses[Math.floor(Math.random() * responses.length)];
            }

            handleQuizAnswer(answer) {
                if (!this.currentQuiz) return this.getDefaultResponse();

                const answerIndex = ['a', 'b', 'c', 'd'].indexOf(answer.toLowerCase());
                if (answerIndex === -1) {
                    return "Please answer with A, B, C, or D! üìù";
                }

                const isCorrect = answerIndex === this.currentQuiz.correct;
                const result = isCorrect ? "‚úÖ **Correct!**" : "‚ùå **Not quite right.**";
                const correctLetter = ['A', 'B', 'C', 'D'][this.currentQuiz.correct];

                const response = `${result}

**The best answer is ${correctLetter})** ${this.currentQuiz.options[this.currentQuiz.correct]}

**Explanation:** ${this.currentQuiz.explanation}

${isCorrect ? "Great job understanding this aspect of " + this.currentQuiz.value + "! üéâ" : "No worries - this helps clarify how " + this.currentQuiz.value + " works in practice! üí°"}

Want another quiz or ready to try a scenario? Just ask! üöÄ`;

                this.currentQuiz = null;
                return response;
            }

            handleDebateResponse(position, reasoning) {
                if (!this.currentDebate) return this.getDefaultResponse();

                const debate = this.currentDebate;
                const isFor = position.toLowerCase() === 'for';
                
                let response = `üí≠ **Great perspective!** You've chosen the ${isFor ? 'FOR' : 'AGAINST'} position.

**Your reasoning shows understanding of:**`;

                // Analyze which JIF values their reasoning touches on
                const valueAnalysis = [];
                if (reasoning.includes('fair') || reasoning.includes('equal') || reasoning.includes('deserve')) {
                    valueAnalysis.push('‚öñÔ∏è **Justice** - You\'re considering fairness and what people deserve');
                }
                if (reasoning.includes('honest') || reasoning.includes('responsible') || reasoning.includes('account')) {
                    valueAnalysis.push('üß© **Integrity** - You\'re thinking about accountability and authentic action');
                }
                if (reasoning.includes('include') || reasoning.includes('voice') || reasoning.includes('joy') || reasoning.includes('engage')) {
                    valueAnalysis.push('üéâ **Fun** - You\'re valuing inclusion and positive engagement');
                }

                if (valueAnalysis.length > 0) {
                    response += '\n' + valueAnalysis.join('\n');
                } else {
                    response += '\nüí° **Critical thinking** - You\'re analyzing the situation thoughtfully';
                }

                response += `

**Counter-perspective to consider:**
The ${isFor ? 'AGAINST' : 'FOR'} side raises important points about ${isFor ? debate.sideAgainst.toLowerCase() : debate.sideFor.toLowerCase()}.

**JIF Balance Challenge:** 
How might we find solutions that honor all three values? Often the best approaches combine Justice (fairness), Integrity (accountability), and Fun (inclusion) rather than choosing just one.

What's your thoughts on balancing these values in this situation? ü§ù`;

                this.currentDebate = null;
                return response;
            }
        }

        // Initialize the bot
        const jifBot = new JIFBot();

        function addMessage(content, isUser = false) {
            const chatMessages = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user-message' : 'bot-message'}`;
            
            const now = new Date();
            const timeString = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            
            // Process markdown-style formatting for bot messages
            if (!isUser) {
                content = content
                    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                    .replace(/üîπ/g, '<span style="color: var(--accent-gold);">üîπ</span>')
                    .replace(/\n/g, '<br>');
            }
            
            messageDiv.innerHTML = `
                <div class="message-content">
                    <strong>${isUser ? 'You' : 'JIF Bot'}:</strong> ${content}
                </div>
                <div class="message-time">${timeString}</div>
            `;
            
            // Insert before typing indicator
            const typingIndicator = document.getElementById('typing-indicator');
            chatMessages.insertBefore(messageDiv, typingIndicator);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function showTypingIndicator() {
            document.getElementById('typing-indicator').classList.add('show');
            document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
        }

        function hideTypingIndicator() {
            document.getElementById('typing-indicator').classList.remove('show');
        }

        function sendMessage() {
            const input = document.getElementById('user-input');
            const userMessage = input.value.trim();
            
            if (userMessage === '') return;
            
            addMessage(userMessage, true);
            input.value = '';
            
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                
                let botResponse;
                
                // Check if it's a quiz answer
                if (['a', 'b', 'c', 'd'].includes(userMessage.toLowerCase()) && jifBot.currentQuiz) {
                    botResponse = jifBot.handleQuizAnswer(userMessage);
                }
                // Check if it's a debate response
                else if ((userMessage.toLowerCase().includes('for') || userMessage.toLowerCase().includes('against')) && jifBot.currentDebate) {
                    const position = userMessage.toLowerCase().includes('for') ? 'for' : 'against';
                    botResponse = jifBot.handleDebateResponse(position, userMessage);
                }
                // Regular bot response
                else {
                    botResponse = jifBot.getBotResponse(userMessage);
                }
                
                addMessage(botResponse, false);
            }, Math.random() * 1500 + 800);
        }

        function sendQuickMessage(message) {
            document.getElementById('user-input').value = message;
            sendMessage();
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        // Initialize welcome message time and focus input
        document.addEventListener('DOMContentLoaded', function() {
            const now = new Date();
            const timeString = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            document.getElementById('welcome-time').textContent = timeString;
            document.getElementById('user-input').focus();
        });
    </script>
</body>
</html>