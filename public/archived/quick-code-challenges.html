<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quick Code Challenges | Code with Morais</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .content {
            padding: 30px;
        }

        .difficulty-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .tab-btn {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .tab-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .challenges-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .challenge-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .challenge-card:hover {
            transform: translateY(-5px);
        }

        .challenge-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .challenge-icon {
            font-size: 1.5rem;
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .challenge-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: #2c3e50;
        }

        .challenge-description {
            color: #636e72;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .challenge-concept {
            background: #e3f2fd;
            color: #1976d2;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
            display: inline-block;
            margin: 2px;
        }

        .time-estimate {
            background: #fff3e0;
            color: #f57c00;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
            display: inline-block;
            margin-top: 10px;
        }

        .code-editor {
            background: #1e1e1e;
            color: #d4d4d4;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border: none;
            width: 100%;
            min-height: 120px;
            resize: vertical;
        }

        .run-btn {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            margin: 5px;
            transition: transform 0.2s ease;
        }

        .run-btn:hover {
            transform: scale(1.05);
        }

        .hint-btn {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            margin: 5px;
        }

        .output-area {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            min-height: 50px;
            white-space: pre-wrap;
        }

        .hint-area {
            background: #fff9c4;
            border: 1px solid #fbc02d;
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            display: none;
        }

        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }

        .error {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }

        .hidden {
            display: none;
        }

        .nav-footer {
            background: #2c3e50;
            color: white;
            padding: 20px;
            text-align: center;
        }

        .nav-btn {
            background: #3498db;
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            text-decoration: none;
            margin: 10px;
            display: inline-block;
            transition: background 0.3s ease;
        }

        .nav-btn:hover {
            background: #2980b9;
        }

        @media (max-width: 768px) {
            .challenges-grid {
                grid-template-columns: 1fr;
            }
            
            .difficulty-tabs {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‚ö° Quick Code Challenges</h1>
            <p>Bite-sized Python exercises for extra practice time!</p>
        </div>

        <div class="content">
            <!-- Difficulty Tabs -->
            <div class="difficulty-tabs">
                <button class="tab-btn active" onclick="showDifficulty('beginner')">üå± Beginner (2-5 min)</button>
                <button class="tab-btn" onclick="showDifficulty('intermediate')">üöÄ Intermediate (5-8 min)</button>
                <button class="tab-btn" onclick="showDifficulty('advanced')">üèÜ Advanced (8-12 min)</button>
            </div>

            <!-- Beginner Challenges -->
            <div id="beginner" class="difficulty-section">
                <div class="challenges-grid">
                    <!-- Challenge 1: Variables -->
                    <div class="challenge-card">
                        <div class="challenge-header">
                            <div class="challenge-icon">üì¶</div>
                            <div class="challenge-title">Variable Creator</div>
                        </div>
                        <div class="challenge-description">
                            Create variables for a student's information and print them nicely.
                        </div>
                        <div>
                            <span class="challenge-concept">Variables</span>
                            <span class="challenge-concept">Print</span>
                            <span class="challenge-concept">Strings</span>
                        </div>
                        <div class="time-estimate">‚è∞ 2-3 minutes</div>
                        
                        <textarea class="code-editor" placeholder="# Create variables for:
# - student_name (your name)
# - student_age (your age) 
# - favorite_subject (any subject)
# Then print each one with a label

# Write your code here:"></textarea>
                        <button class="run-btn" onclick="runCode(this)">‚ñ∂Ô∏è Run Code</button>
                        <button class="hint-btn" onclick="toggleHint(this)">üí° Hint</button>
                        <div class="hint-area">
                            <strong>Hint:</strong> Use variables like: student_name = "Alex"<br>
                            Then print with: print("Name:", student_name)
                        </div>
                        <div class="output-area">Click "Run Code" to see output...</div>
                    </div>

                    <!-- Challenge 2: Math Operations -->
                    <div class="challenge-card">
                        <div class="challenge-header">
                            <div class="challenge-icon">üßÆ</div>
                            <div class="challenge-title">Math Master</div>
                        </div>
                        <div class="challenge-description">
                            Calculate the area of a rectangle and the total cost of buying multiple items.
                        </div>
                        <div>
                            <span class="challenge-concept">Arithmetic</span>
                            <span class="challenge-concept">Variables</span>
                            <span class="challenge-concept">Multiplication</span>
                        </div>
                        <div class="time-estimate">‚è∞ 3-4 minutes</div>
                        
                        <textarea class="code-editor" placeholder="# Part 1: Rectangle area
# Create variables: length = 12, width = 8
# Calculate and print the area

# Part 2: Shopping
# item_price = 4.99, quantity = 6
# Calculate and print total cost

# Write your code here:"></textarea>
                        <button class="run-btn" onclick="runCode(this)">‚ñ∂Ô∏è Run Code</button>
                        <button class="hint-btn" onclick="toggleHint(this)">üí° Hint</button>
                        <div class="hint-area">
                            <strong>Hint:</strong> Area = length * width<br>
                            Total cost = item_price * quantity
                        </div>
                        <div class="output-area">Click "Run Code" to see output...</div>
                    </div>

                    <!-- Challenge 3: String Methods -->
                    <div class="challenge-card">
                        <div class="challenge-header">
                            <div class="challenge-icon">üî§</div>
                            <div class="challenge-title">Text Transformer</div>
                        </div>
                        <div class="challenge-description">
                            Transform text using string methods to create different formats.
                        </div>
                        <div>
                            <span class="challenge-concept">String Methods</span>
                            <span class="challenge-concept">.upper()</span>
                            <span class="challenge-concept">.lower()</span>
                        </div>
                        <div class="time-estimate">‚è∞ 2-3 minutes</div>
                        
                        <textarea class="code-editor" placeholder="# Start with this text:
message = "Python Programming is AWESOME"

# Print the message in:
# 1. All uppercase
# 2. All lowercase  
# 3. Show the length of the message

# Write your code here:"></textarea>
                        <button class="run-btn" onclick="runCode(this)">‚ñ∂Ô∏è Run Code</button>
                        <button class="hint-btn" onclick="toggleHint(this)">üí° Hint</button>
                        <div class="hint-area">
                            <strong>Hint:</strong> Use .upper(), .lower(), and len() functions<br>
                            Example: print(message.upper())
                        </div>
                        <div class="output-area">Click "Run Code" to see output...</div>
                    </div>

                    <!-- Challenge 4: Simple Lists -->
                    <div class="challenge-card">
                        <div class="challenge-header">
                            <div class="challenge-icon">üìù</div>
                            <div class="challenge-title">List Builder</div>
                        </div>
                        <div class="challenge-description">
                            Create a list of your favorite things and perform basic operations.
                        </div>
                        <div>
                            <span class="challenge-concept">Lists</span>
                            <span class="challenge-concept">Indexing</span>
                            <span class="challenge-concept">append()</span>
                        </div>
                        <div class="time-estimate">‚è∞ 3-4 minutes</div>
                        
                        <textarea class="code-editor" placeholder="# Create a list of 3 favorite foods
foods = []  # Start with empty list

# Add 3 foods using .append()
# Print the first food
# Print the entire list
# Add one more food and print the list again

# Write your code here:"></textarea>
                        <button class="run-btn" onclick="runCode(this)">‚ñ∂Ô∏è Run Code</button>
                        <button class="hint-btn" onclick="toggleHint(this)">üí° Hint</button>
                        <div class="hint-area">
                            <strong>Hint:</strong> Use foods.append("pizza") to add items<br>
                            Access first item with foods[0]
                        </div>
                        <div class="output-area">Click "Run Code" to see output...</div>
                    </div>
                </div>
            </div>

            <!-- Intermediate Challenges -->
            <div id="intermediate" class="difficulty-section hidden">
                <div class="challenges-grid">
                    <!-- Challenge 5: Conditionals -->
                    <div class="challenge-card">
                        <div class="challenge-header">
                            <div class="challenge-icon">üîÄ</div>
                            <div class="challenge-title">Grade Calculator</div>
                        </div>
                        <div class="challenge-description">
                            Create a program that converts numeric grades to letter grades.
                        </div>
                        <div>
                            <span class="challenge-concept">if/elif/else</span>
                            <span class="challenge-concept">Comparison</span>
                            <span class="challenge-concept">Logic</span>
                        </div>
                        <div class="time-estimate">‚è∞ 5-6 minutes</div>
                        
                        <textarea class="code-editor" placeholder="# Create a grade converter
# 90-100: A, 80-89: B, 70-79: C, 60-69: D, Below 60: F

# Test with these scores: 95, 87, 73, 65, 45
scores = [95, 87, 73, 65, 45]

# Write a grade converter that checks each score
# and prints the score with its letter grade

# Write your code here:"></textarea>
                        <button class="run-btn" onclick="runCode(this)">‚ñ∂Ô∏è Run Code</button>
                        <button class="hint-btn" onclick="toggleHint(this)">üí° Hint</button>
                        <div class="hint-area">
                            <strong>Hint:</strong> Use a for loop to check each score<br>
                            Use if score >= 90: to check conditions
                        </div>
                        <div class="output-area">Click "Run Code" to see output...</div>
                    </div>

                    <!-- Challenge 6: Functions -->
                    <div class="challenge-card">
                        <div class="challenge-header">
                            <div class="challenge-icon">‚öôÔ∏è</div>
                            <div class="challenge-title">Function Factory</div>
                        </div>
                        <div class="challenge-description">
                            Create a function that calculates the area of different shapes.
                        </div>
                        <div>
                            <span class="challenge-concept">Functions</span>
                            <span class="challenge-concept">Parameters</span>
                            <span class="challenge-concept">Return</span>
                        </div>
                        <div class="time-estimate">‚è∞ 6-7 minutes</div>
                        
                        <textarea class="code-editor" placeholder="# Create a function called rectangle_area(length, width)
# that returns the area of a rectangle

# Create another function called circle_area(radius)
# that returns the area (use 3.14 for pi)

# Test both functions with sample values
# rectangle: length=10, width=5
# circle: radius=7

# Write your code here:"></textarea>
                        <button class="run-btn" onclick="runCode(this)">‚ñ∂Ô∏è Run Code</button>
                        <button class="hint-btn" onclick="toggleHint(this)">üí° Hint</button>
                        <div class="hint-area">
                            <strong>Hint:</strong> def function_name(parameters):<br>
                            Circle area = 3.14 * radius * radius<br>
                            Use return to send back the result
                        </div>
                        <div class="output-area">Click "Run Code" to see output...</div>
                    </div>

                    <!-- Challenge 7: List Processing -->
                    <div class="challenge-card">
                        <div class="challenge-header">
                            <div class="challenge-icon">üìä</div>
                            <div class="challenge-title">Data Analyzer</div>
                        </div>
                        <div class="challenge-description">
                            Analyze a list of test scores to find statistics.
                        </div>
                        <div>
                            <span class="challenge-concept">Lists</span>
                            <span class="challenge-concept">max/min</span>
                            <span class="challenge-concept">sum/len</span>
                        </div>
                        <div class="time-estimate">‚è∞ 5-6 minutes</div>
                        
                        <textarea class="code-editor" placeholder="# Given test scores
scores = [88, 92, 76, 95, 89, 84, 91, 87]

# Calculate and print:
# 1. Highest score
# 2. Lowest score  
# 3. Average score (sum divided by count)
# 4. How many scores are above 90

# Write your code here:"></textarea>
                        <button class="run-btn" onclick="runCode(this)">‚ñ∂Ô∏è Run Code</button>
                        <button class="hint-btn" onclick="toggleHint(this)">üí° Hint</button>
                        <div class="hint-area">
                            <strong>Hint:</strong> Use max(), min(), sum(), len() functions<br>
                            Count with: sum(1 for score in scores if score > 90)
                        </div>
                        <div class="output-area">Click "Run Code" to see output...</div>
                    </div>

                    <!-- Challenge 8: String Processing -->
                    <div class="challenge-card">
                        <div class="challenge-header">
                            <div class="challenge-icon">‚úÇÔ∏è</div>
                            <div class="challenge-title">Word Counter</div>
                        </div>
                        <div class="challenge-description">
                            Process a sentence to count words and find specific information.
                        </div>
                        <div>
                            <span class="challenge-concept">String Methods</span>
                            <span class="challenge-concept">.split()</span>
                            <span class="challenge-concept">Loops</span>
                        </div>
                        <div class="time-estimate">‚è∞ 6-7 minutes</div>
                        
                        <textarea class="code-editor" placeholder="# Process this sentence
sentence = "Python programming is fun and Python is powerful"

# Find and print:
# 1. Total number of words
# 2. Number of times "Python" appears
# 3. All unique words (no duplicates)
# 4. Longest word in the sentence

# Write your code here:"></textarea>
                        <button class="run-btn" onclick="runCode(this)">‚ñ∂Ô∏è Run Code</button>
                        <button class="hint-btn" onclick="toggleHint(this)">üí° Hint</button>
                        <div class="hint-area">
                            <strong>Hint:</strong> Use .split() to get words list<br>
                            Use set() to get unique words<br>
                            Use max(words, key=len) for longest word
                        </div>
                        <div class="output-area">Click "Run Code" to see output...</div>
                    </div>
                </div>
            </div>

            <!-- Advanced Challenges -->
            <div id="advanced" class="difficulty-section hidden">
                <div class="challenges-grid">
                    <!-- Challenge 9: Number Patterns -->
                    <div class="challenge-card">
                        <div class="challenge-header">
                            <div class="challenge-icon">üî¢</div>
                            <div class="challenge-title">Pattern Generator</div>
                        </div>
                        <div class="challenge-description">
                            Generate different number patterns using loops and logic.
                        </div>
                        <div>
                            <span class="challenge-concept">Loops</span>
                            <span class="challenge-concept">Range</span>
                            <span class="challenge-concept">Patterns</span>
                        </div>
                        <div class="time-estimate">‚è∞ 8-10 minutes</div>
                        
                        <textarea class="code-editor" placeholder="# Create these patterns:

# Pattern 1: Even numbers from 2 to 20
# Output: 2 4 6 8 10 12 14 16 18 20

# Pattern 2: Countdown from 10 to 1
# Output: 10 9 8 7 6 5 4 3 2 1

# Pattern 3: Multiplication table for 7 (1-10)
# Output: 7x1=7, 7x2=14, etc.

# Write your code here:"></textarea>
                        <button class="run-btn" onclick="runCode(this)">‚ñ∂Ô∏è Run Code</button>
                        <button class="hint-btn" onclick="toggleHint(this)">üí° Hint</button>
                        <div class="hint-area">
                            <strong>Hint:</strong> Use range(2, 21, 2) for even numbers<br>
                            Use range(10, 0, -1) for countdown<br>
                            Use f"7x{i}={7*i}" for multiplication table
                        </div>
                        <div class="output-area">Click "Run Code" to see output...</div>
                    </div>

                    <!-- Challenge 10: Dictionary Explorer -->
                    <div class="challenge-card">
                        <div class="challenge-header">
                            <div class="challenge-icon">üìö</div>
                            <div class="challenge-title">Student Records</div>
                        </div>
                        <div class="challenge-description">
                            Create and manipulate a dictionary of student information.
                        </div>
                        <div>
                            <span class="challenge-concept">Dictionaries</span>
                            <span class="challenge-concept">Keys/Values</span>
                            <span class="challenge-concept">Loops</span>
                        </div>
                        <div class="time-estimate">‚è∞ 9-11 minutes</div>
                        
                        <textarea class="code-editor" placeholder="# Create a student records system
students = {
    "Alice": {"age": 16, "grade": 95, "subject": "Math"},
    "Bob": {"age": 17, "grade": 87, "subject": "Science"}, 
    "Carol": {"age": 16, "grade": 92, "subject": "English"}
}

# Tasks:
# 1. Print each student's name and grade
# 2. Find the student with the highest grade
# 3. Add a new student "David" (age: 17, grade: 89, subject: "History")
# 4. Calculate the average grade of all students

# Write your code here:"></textarea>
                        <button class="run-btn" onclick="runCode(this)">‚ñ∂Ô∏è Run Code</button>
                        <button class="hint-btn" onclick="toggleHint(this)">üí° Hint</button>
                        <div class="hint-area">
                            <strong>Hint:</strong> Loop with: for name, info in students.items()<br>
                            Access grades with: info["grade"]<br>
                            Use max() with key parameter
                        </div>
                        <div class="output-area">Click "Run Code" to see output...</div>
                    </div>

                    <!-- Challenge 11: Error Handler -->
                    <div class="challenge-card">
                        <div class="challenge-header">
                            <div class="challenge-icon">üõ°Ô∏è</div>
                            <div class="challenge-title">Safe Calculator</div>
                        </div>
                        <div class="challenge-description">
                            Create a calculator that handles errors gracefully.
                        </div>
                        <div>
                            <span class="challenge-concept">try/except</span>
                            <span class="challenge-concept">Error Handling</span>
                            <span class="challenge-concept">Functions</span>
                        </div>
                        <div class="time-estimate">‚è∞ 10-12 minutes</div>
                        
                        <textarea class="code-editor" placeholder="# Create a safe division function
def safe_divide(a, b):
    # Use try/except to handle division by zero
    # Return the result or an error message
    pass

# Create a safe number converter
def safe_int_convert(text):
    # Try to convert text to integer
    # Return the number or None if invalid
    pass

# Test your functions with:
print(safe_divide(10, 2))     # Should work
print(safe_divide(10, 0))     # Should handle error
print(safe_int_convert("123")) # Should work  
print(safe_int_convert("abc")) # Should handle error

# Write your code here:"></textarea>
                        <button class="run-btn" onclick="runCode(this)">‚ñ∂Ô∏è Run Code</button>
                        <button class="hint-btn" onclick="toggleHint(this)">üí° Hint</button>
                        <div class="hint-area">
                            <strong>Hint:</strong> Use try: ... except ZeroDivisionError:<br>
                            Use try: return int(text) except ValueError: return None
                        </div>
                        <div class="output-area">Click "Run Code" to see output...</div>
                    </div>

                    <!-- Challenge 12: File Simulator -->
                    <div class="challenge-card">
                        <div class="challenge-header">
                            <div class="challenge-icon">üíæ</div>
                            <div class="challenge-title">Data Processor</div>
                        </div>
                        <div class="challenge-description">
                            Process a "file" of data (simulated as a list) and generate a report.
                        </div>
                        <div>
                            <span class="challenge-concept">File Processing</span>
                            <span class="challenge-concept">Data Analysis</span>
                            <span class="challenge-concept">Formatting</span>
                        </div>
                        <div class="time-estimate">‚è∞ 10-12 minutes</div>
                        
                        <textarea class="code-editor" placeholder="# Simulate CSV data (Name,Age,Score)
data_lines = [
    "Alice,16,95",
    "Bob,17,87", 
    "Carol,16,92",
    "David,17,89",
    "Eve,16,94"
]

# Process the data to:
# 1. Parse each line into name, age, score
# 2. Calculate average score
# 3. Find top performer
# 4. Group by age and show average score per age
# 5. Generate a formatted report

# Write your code here:"></textarea>
                        <button class="run-btn" onclick="runCode(this)">‚ñ∂Ô∏è Run Code</button>
                        <button class="hint-btn" onclick="toggleHint(this)">üí° Hint</button>
                        <div class="hint-area">
                            <strong>Hint:</strong> Use line.split(",") to parse<br>
                            Convert strings with int() for age/score<br>
                            Use dictionaries to group by age
                        </div>
                        <div class="output-area">Click "Run Code" to see output...</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation Footer -->
        <div class="nav-footer">
            <h3>More Python Practice</h3>
            <p>Keep building your coding skills with these resources:</p>
            <a href="/projects.html" class="nav-btn">üìö Full Projects</a>
            <a href="/ide.html" class="nav-btn">üíª Python IDE</a>
            <a href="/dashboard.html" class="nav-btn">üìä Dashboard</a>
            <a href="/" class="nav-btn">üè† Home</a>
        </div>
    </div>

    <!-- Pyodide for Python execution -->
    <script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>
    <script>
        let pyodide = null;

        // Initialize Pyodide
        async function initPyodide() {
            if (!pyodide) {
                pyodide = await loadPyodide();
                console.log("Pyodide loaded successfully!");
            }
            return pyodide;
        }

        // Initialize on page load
        window.addEventListener('load', initPyodide);

        // Show/hide difficulty sections
        function showDifficulty(level) {
            // Hide all sections
            document.querySelectorAll('.difficulty-section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Show selected section
            document.getElementById(level).classList.remove('hidden');
            
            // Update tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        // Run Python code
        async function runCode(button) {
            const card = button.closest('.challenge-card');
            const codeEditor = card.querySelector('.code-editor');
            const outputArea = card.querySelector('.output-area');
            
            const code = codeEditor.value.trim();
            if (!code) {
                outputArea.textContent = "Please write some code first!";
                outputArea.className = "output-area error";
                return;
            }

            try {
                // Ensure Pyodide is loaded
                const py = await initPyodide();
                
                outputArea.textContent = "Running...";
                outputArea.className = "output-area";

                // Capture print output
                py.runPython(`
import sys
from io import StringIO
sys.stdout = StringIO()
                `);

                // Run user code
                py.runPython(code);
                
                // Get output
                const output = py.runPython("sys.stdout.getvalue()");
                
                // Reset stdout
                py.runPython("sys.stdout = sys.__stdout__");
                
                if (output.trim()) {
                    outputArea.textContent = output;
                    outputArea.className = "output-area success";
                } else {
                    outputArea.textContent = "Code ran successfully (no output)";
                    outputArea.className = "output-area";
                }
                
            } catch (error) {
                outputArea.textContent = `Error: ${error.message}`;
                outputArea.className = "output-area error";
            }
        }

        // Toggle hint visibility
        function toggleHint(button) {
            const card = button.closest('.challenge-card');
            const hintArea = card.querySelector('.hint-area');
            
            if (hintArea.style.display === 'none' || !hintArea.style.display) {
                hintArea.style.display = 'block';
                button.textContent = 'üëÅÔ∏è Hide Hint';
            } else {
                hintArea.style.display = 'none';
                button.textContent = 'üí° Hint';
            }
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            // Ctrl/Cmd + Enter to run code
            if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                const activeEditor = document.activeElement;
                if (activeEditor.classList.contains('code-editor')) {
                    const runButton = activeEditor.parentElement.querySelector('.run-btn');
                    if (runButton) {
                        e.preventDefault();
                        runCode(runButton);
                    }
                }
            }
        });
    </script>
</body>
</html>