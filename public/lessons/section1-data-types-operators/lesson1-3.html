<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lesson 1.3: Operator Precedence - Python Certification Course</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Inter', sans-serif;
      background: #f5f7fa;
      color: #2c3e50;
      line-height: 1.6;
    }
    
    .lesson-container {
      max-width: 1400px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 260px 1fr 280px;
      min-height: 100vh;
      gap: 0;
      box-shadow: 0 0 20px rgba(0,0,0,0.1);
    }
    
    /* Copy all the CSS from lesson1-2.html but update specific content */
    /* ... [Similar CSS structure as lesson1-2.html] ... */
    
    /* Sidebar Navigation */
    .lesson-sidebar {
      background: linear-gradient(180deg, #2c3e50 0%, #34495e 100%);
      color: white;
      padding: 1.5rem 1rem;
      position: sticky;
      top: 0;
      height: 100vh;
      overflow-y: auto;
      border-right: 1px solid #34495e;
    }
    
    .lesson-nav {
      margin-bottom: 2rem;
    }
    
    .nav-title {
      font-size: 1.1rem;
      font-weight: bold;
      margin-bottom: 1rem;
      color: #ecf0f1;
    }
    
    .nav-link {
      display: block;
      color: #bdc3c7;
      text-decoration: none;
      padding: 0.5rem;
      border-radius: 4px;
      margin-bottom: 0.5rem;
      transition: all 0.3s ease;
    }
    
    .nav-link:hover, .nav-link.active {
      background: #34495e;
      color: #3498db;
    }
    
    .section-divider {
      border-top: 1px solid #34495e;
      margin: 1rem 0;
    }
    
    /* Main Content */
    .lesson-content {
      background: white;
      padding: 2rem 1.5rem;
      overflow-y: auto;
      max-width: none;
    }
    
    .lesson-header {
      margin-bottom: 3rem;
      padding-bottom: 2rem;
      border-bottom: 3px solid #e74c3c;
      background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
      padding: 2rem 1.5rem;
      margin: -2rem -1.5rem 3rem -1.5rem;
      border-radius: 0 0 15px 15px;
    }
    
    .lesson-title {
      font-size: 2.5rem;
      color: #2c3e50;
      margin-bottom: 0.5rem;
    }
    
    .lesson-subtitle {
      font-size: 1.2rem;
      color: #7f8c8d;
      margin-bottom: 1rem;
    }
    
    .lesson-meta {
      display: flex;
      gap: 2rem;
      color: #95a5a6;
      font-size: 0.9rem;
    }
    
    .lesson-section {
      margin-bottom: 4rem;
      padding: 1.5rem 0;
      width: 100%;
    }
    
    .section-title {
      font-size: 2rem;
      color: #2c3e50;
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      gap: 1rem;
      padding-bottom: 1rem;
      border-bottom: 2px solid #3498db;
    }
    
    .section-content {
      font-size: 1.1rem;
      line-height: 1.8;
      color: #34495e;
      margin-bottom: 2rem;
    }
    
    /* Precedence Table */
    .precedence-table {
      width: 100%;
      border-collapse: collapse;
      margin: 2rem 0;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      border-radius: 10px;
      overflow: hidden;
    }
    
    .precedence-table th {
      background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
      color: white;
      padding: 1rem;
      text-align: left;
      font-weight: 600;
    }
    
    .precedence-table td {
      padding: 1rem;
      border-bottom: 1px solid #e9ecef;
      background: white;
    }
    
    .precedence-table tr:nth-child(even) td {
      background: #f8f9fa;
    }
    
    .precedence-table tr:hover td {
      background: #e3f2fd;
    }
    
    /* Code Examples */
    .code-example {
      background: #2c3e50;
      color: #ecf0f1;
      padding: 1.5rem;
      border-radius: 8px;
      margin: 1.5rem 0;
      font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
      font-size: 14px;
      line-height: 1.5;
      overflow-x: auto;
      position: relative;
    }
    
    .code-example::before {
      content: "Python";
      position: absolute;
      top: 0.5rem;
      right: 1rem;
      background: #3498db;
      color: white;
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      font-size: 0.8rem;
    }
    
    .copy-btn {
      position: absolute;
      top: 0.5rem;
      right: 5rem;
      background: #27ae60;
      color: white;
      border: none;
      padding: 0.3rem 0.8rem;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.8rem;
      transition: all 0.3s ease;
    }
    
    .copy-btn:hover {
      background: #229954;
    }
    
    /* Interactive Elements */
    .interactive-section {
      background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
      border: 2px solid #dee2e6;
      border-radius: 15px;
      padding: 2rem;
      margin: 3rem 0;
      box-shadow: 0 8px 25px rgba(0,0,0,0.1);
      width: 100%;
    }
    
    .interactive-title {
      font-size: 1.5rem;
      color: #495057;
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    
    .exercise-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1.5rem;
      margin: 2rem 0;
      width: 100%;
    }
    
    .exercise-input {
      background: white;
      border: 2px solid #ced4da;
      border-radius: 10px;
      padding: 1.5rem;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
    }
    
    .exercise-input:hover {
      border-color: #3498db;
      box-shadow: 0 6px 20px rgba(52, 152, 219, 0.15);
    }
    
    .exercise-input h4 {
      margin-bottom: 1rem;
      color: #2c3e50;
      font-size: 1.2rem;
    }
    
    .exercise-input textarea {
      width: 100%;
      height: 120px;
      border: 1px solid #e9ecef;
      border-radius: 8px;
      outline: none;
      font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
      font-size: 14px;
      resize: vertical;
      padding: 1rem;
      line-height: 1.5;
      background: #fafafa;
      transition: all 0.3s ease;
    }
    
    .exercise-input textarea:focus {
      border-color: #3498db;
      background: white;
      box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
    }
    
    /* Enhanced Interactive Coding Area */
    .code-editor {
      position: relative;
      background: #1e1e1e;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(0,0,0,0.2);
    }
    
    .editor-header {
      background: #2d2d30;
      color: #cccccc;
      padding: 1rem 1.5rem;
      display: flex;
      align-items: center;
      gap: 1rem;
      font-size: 0.9rem;
      border-bottom: 1px solid #3e3e42;
    }
    
    .editor-title {
      font-weight: 600;
    }
    
    .editor-tabs {
      display: flex;
      gap: 0.5rem;
    }
    
    .tab {
      background: #3c3c3c;
      color: #cccccc;
      padding: 0.3rem 0.8rem;
      border-radius: 4px;
      font-size: 0.8rem;
    }
    
    .tab.active {
      background: #007acc;
      color: white;
    }
    
    #code-input {
      width: 100%;
      height: 300px;
      background: #1e1e1e;
      color: #d4d4d4;
      border: none;
      padding: 1.5rem;
      font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
      font-size: 14px;
      line-height: 1.5;
      resize: vertical;
      outline: none;
    }
    
    .console-output {
      background: #0f0f0f;
      color: #00ff00;
      padding: 1.5rem;
      font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
      font-size: 14px;
      min-height: 150px;
      max-height: 300px;
      overflow-y: auto;
      border-top: 1px solid #333;
      white-space: pre-wrap;
    }
    
    .console-header {
      background: #2d2d30;
      color: #cccccc;
      padding: 0.8rem 1.5rem;
      font-size: 0.9rem;
      font-weight: 600;
      border-bottom: 1px solid #3e3e42;
    }
    
    .exercise-controls {
      display: flex;
      gap: 1rem;
      margin: 2rem 0;
      justify-content: center;
    }
    
    /* Buttons */
    .btn {
      background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
      color: white;
      border: none;
      padding: 1rem 2rem;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 600;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
      min-width: 120px;
      justify-content: center;
    }
    
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 25px rgba(52, 152, 219, 0.4);
      background: linear-gradient(135deg, #2980b9 0%, #3498db 100%);
    }
    
    .btn:active {
      transform: translateY(0);
      box-shadow: 0 3px 12px rgba(52, 152, 219, 0.3);
    }
    
    .btn-success {
      background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
      box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
    }
    
    .btn-success:hover {
      background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
      box-shadow: 0 6px 25px rgba(39, 174, 96, 0.4);
    }
    
    .btn-secondary {
      background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
      box-shadow: 0 4px 15px rgba(149, 165, 166, 0.3);
    }
    
    .btn-secondary:hover {
      background: linear-gradient(135deg, #7f8c8d 0%, #95a5a6 100%);
      box-shadow: 0 6px 25px rgba(149, 165, 166, 0.4);
    }
    
    /* Modal and other styles - copy from lesson1-2.html */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(5px);
      animation: fadeIn 0.3s ease;
    }
    
    .modal-content {
      background: white;
      margin: 10% auto;
      padding: 3rem;
      border-radius: 20px;
      width: 90%;
      max-width: 500px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      text-align: center;
      animation: slideDown 0.3s ease;
    }
    
    .modal-header {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 2rem;
    }
    
    .modal-icon {
      font-size: 3rem;
      color: #27ae60;
    }
    
    .modal-icon.error {
      color: #e74c3c;
    }
    
    .modal-title {
      font-size: 1.8rem;
      color: #2c3e50;
      margin: 0;
    }
    
    .modal-body {
      font-size: 1.1rem;
      color: #5a6c7d;
      line-height: 1.6;
      margin-bottom: 2rem;
    }
    
    .modal-footer {
      display: flex;
      gap: 1rem;
      justify-content: center;
    }
    
    .close {
      position: absolute;
      right: 1.5rem;
      top: 1.5rem;
      color: #aaa;
      font-size: 2rem;
      font-weight: bold;
      cursor: pointer;
      transition: color 0.3s ease;
    }
    
    .close:hover {
      color: #2c3e50;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    @keyframes slideDown {
      from { 
        opacity: 0;
        transform: translateY(-50px);
      }
      to { 
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .activity-panel {
      background: white;
      border-left: 4px solid #e74c3c;
      padding: 1.5rem 1rem;
      position: sticky;
      top: 0;
      height: 100vh;
      overflow-y: auto;
    }
    
    .activity-title {
      font-size: 1.3rem;
      color: #2c3e50;
      margin-bottom: 1rem;
    }
    
    .activity-item {
      background: #f8f9fa;
      border-radius: 8px;
      padding: 1rem;
      margin-bottom: 1rem;
      border-left: 4px solid #95a5a6;
    }
    
    .activity-item.completed {
      border-left-color: #27ae60;
      background: #d5f4e6;
    }
    
    .activity-item.current {
      border-left-color: #3498db;
      background: #e3f2fd;
    }
    
    /* Quiz Styles */
    .quiz-question {
      background: #fff;
      border: 2px solid #e9ecef;
      border-radius: 12px;
      padding: 2rem;
      margin: 2rem 0;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    
    .quiz-options {
      list-style: none;
    }
    
    .quiz-option {
      padding: 0.5rem;
      margin-bottom: 0.5rem;
      border-radius: 4px;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    
    .quiz-option:hover {
      background: #f8f9fa;
    }
    
    .quiz-option input {
      margin-right: 0.5rem;
    }
    
    .navigation-buttons {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 3rem;
      padding-top: 2rem;
      border-top: 1px solid #e9ecef;
    }
    
    .progress-indicator {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    
    .progress-bar {
      width: 200px;
      height: 8px;
      background: #e9ecef;
      border-radius: 4px;
      overflow: hidden;
    }
    
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #3498db, #2ecc71);
      width: 18.75%;
      transition: width 0.5s ease;
    }
    
    @media (max-width: 768px) {
      .lesson-container {
        grid-template-columns: 1fr;
        gap: 0;
      }
      
      .lesson-sidebar, .activity-panel {
        display: none;
      }
      
      .lesson-content {
        padding: 1rem;
      }
      
      .exercise-container {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="lesson-container">
    <aside class="lesson-sidebar">
      <nav class="lesson-nav">
        <div class="nav-title">Section 1: Data Types & Operators</div>
        <a href="lesson1-1.html" class="nav-link">1.1 Data Types</a>
        <a href="lesson1-2.html" class="nav-link">1.2 Data Operations</a>
        <a href="lesson1-3.html" class="nav-link active">1.3 Operator Precedence</a>
        <a href="lesson1-4.html" class="nav-link">1.4 Operators Selection</a>
        
        <div class="section-divider"></div>
        
        <div class="nav-title">Section 2: Control Flow</div>
        <a href="../section2-control-flow/lesson2-1.html" class="nav-link">2.1 Conditionals</a>
        <a href="../section2-control-flow/lesson2-2.html" class="nav-link">2.2 Boolean Logic</a>
        <a href="../section2-control-flow/lesson2-3.html" class="nav-link">2.3 Conditional Expressions</a>
        
        <div class="section-divider"></div>
        
        <div class="nav-title">Section 3: Loops</div>
        <a href="../section3-loops/lesson3-1.html" class="nav-link">3.1 While Loops</a>
        <a href="../section3-loops/lesson3-2.html" class="nav-link">3.2 For Loops</a>
        <a href="../section3-loops/lesson3-3.html" class="nav-link">3.3 Loop Control</a>
        
        <div class="section-divider"></div>
        
        <div class="nav-title">Section 4: Functions</div>
        <a href="../section4-functions/lesson4-1.html" class="nav-link">4.1 Function Definition</a>
        <a href="../section4-functions/lesson4-2.html" class="nav-link">4.2 Parameters & Arguments</a>
        <a href="../section4-functions/lesson4-3.html" class="nav-link">4.3 Scope & Return Values</a>
        
        <div class="section-divider"></div>
        
        <div class="nav-title">Section 5: Data Structures</div>
        <a href="../section5-data-structures/lesson5-1.html" class="nav-link">5.1 Lists & Tuples</a>
        <a href="../section5-data-structures/lesson5-2.html" class="nav-link">5.2 Dictionaries</a>
        <a href="../section5-data-structures/lesson5-3.html" class="nav-link">5.3 Sets & Advanced Operations</a>
        
        <div class="section-divider"></div>
        
        <div class="nav-title">Section 6: File Handling</div>
        <a href="../section6-file-handling/lesson6-1.html" class="nav-link">6.1 File I/O</a>
        <a href="../section6-file-handling/lesson6-2.html" class="nav-link">6.2 Exception Handling</a>
      </nav>
    </aside>

    <main class="lesson-content">
      <div class="lesson-header">
        <h1 class="lesson-title">Lesson 1.3: Operator Precedence</h1>
        <p class="lesson-subtitle">Understand the order of operations in Python expressions</p>
        <div class="lesson-meta">
          <span><i class="fas fa-clock"></i> 40 minutes</span>
          <span><i class="fas fa-user"></i> Beginner</span>
          <span><i class="fas fa-calculator"></i> Interactive</span>
        </div>
      </div>

      <div class="lesson-section">
        <h2 class="section-title">
          <i class="fas fa-layer-group"></i>
          Understanding Operator Precedence
        </h2>
        
        <div class="section-content">
          <p>Operator precedence determines the order in which operations are performed in an expression. Just like in mathematics, certain operations are performed before others. Understanding precedence is crucial for writing correct Python code and avoiding unexpected results.</p>
          
          <p><strong>Key Principle:</strong> Operations with higher precedence are performed first. When operators have the same precedence, they are evaluated from left to right (left-associative) or right to left (right-associative).</p>
        </div>

        <div class="code-example">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
          <code># Precedence affects the result
result1 = 2 + 3 * 4  # Multiplication first: 2 + 12 = 14
result2 = (2 + 3) * 4  # Parentheses first: 5 * 4 = 20

print(f"2 + 3 * 4 = {result1}")  # 14
print(f"(2 + 3) * 4 = {result2}")  # 20

# Another example
result3 = 10 - 4 + 2  # Left to right: 6 + 2 = 8
result4 = 10 - (4 + 2)  # Parentheses first: 10 - 6 = 4

print(f"10 - 4 + 2 = {result3}")  # 8
print(f"10 - (4 + 2) = {result4}")  # 4
</code>
        </div>
      </div>

      <div class="lesson-section">
        <h2 class="section-title">
          <i class="fas fa-list-ol"></i>
          Python Operator Precedence Table
        </h2>
        
        <div class="section-content">
          <p>Here's the complete operator precedence table, from highest to lowest precedence:</p>
        </div>

        <table class="precedence-table">
          <thead>
            <tr>
              <th>Precedence</th>
              <th>Operators</th>
              <th>Description</th>
              <th>Associativity</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>1 (Highest)</td>
              <td><code>()</code></td>
              <td>Parentheses (grouping)</td>
              <td>Left to right</td>
            </tr>
            <tr>
              <td>2</td>
              <td><code>**</code></td>
              <td>Exponentiation</td>
              <td>Right to left</td>
            </tr>
            <tr>
              <td>3</td>
              <td><code>+x, -x, ~x</code></td>
              <td>Unary plus, minus, bitwise NOT</td>
              <td>Left to right</td>
            </tr>
            <tr>
              <td>4</td>
              <td><code>*, /, //, %</code></td>
              <td>Multiplication, division, floor division, modulo</td>
              <td>Left to right</td>
            </tr>
            <tr>
              <td>5</td>
              <td><code>+, -</code></td>
              <td>Addition, subtraction</td>
              <td>Left to right</td>
            </tr>
            <tr>
              <td>6</td>
              <td><code>&lt;&lt;, &gt;&gt;</code></td>
              <td>Bitwise shift</td>
              <td>Left to right</td>
            </tr>
            <tr>
              <td>7</td>
              <td><code>&</code></td>
              <td>Bitwise AND</td>
              <td>Left to right</td>
            </tr>
            <tr>
              <td>8</td>
              <td><code>^</code></td>
              <td>Bitwise XOR</td>
              <td>Left to right</td>
            </tr>
            <tr>
              <td>9</td>
              <td><code>|</code></td>
              <td>Bitwise OR</td>
              <td>Left to right</td>
            </tr>
            <tr>
              <td>10</td>
              <td><code>==, !=, &lt;, &lt;=, &gt;, &gt;=, is, is not, in, not in</code></td>
              <td>Comparison operators</td>
              <td>Left to right</td>
            </tr>
            <tr>
              <td>11</td>
              <td><code>not</code></td>
              <td>Logical NOT</td>
              <td>Left to right</td>
            </tr>
            <tr>
              <td>12</td>
              <td><code>and</code></td>
              <td>Logical AND</td>
              <td>Left to right</td>
            </tr>
            <tr>
              <td>13 (Lowest)</td>
              <td><code>or</code></td>
              <td>Logical OR</td>
              <td>Left to right</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="lesson-section">
        <h2 class="section-title">
          <i class="fas fa-calculator"></i>
          Common Precedence Examples
        </h2>
        
        <div class="section-content">
          <p>Let's explore some common scenarios where understanding precedence is essential:</p>
        </div>

        <div class="code-example">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
          <code># Arithmetic operations
result = 2 + 3 * 4 ** 2  # Exponentiation first, then multiplication, then addition
# Step by step: 4 ** 2 = 16, then 3 * 16 = 48, then 2 + 48 = 50
print(f"2 + 3 * 4 ** 2 = {result}")  # 50

# Comparison and logical operations
x, y, z = 5, 10, 15
result = x < y and y < z  # Comparison first, then logical AND
print(f"{x} < {y} and {y} < {z} = {result}")  # True

# Mixed operations
result = not x > y or z == 15  # not has higher precedence than or
print(f"not {x} > {y} or {z} == 15 = {result}")  # True

# Division and modulo
result = 17 / 3 + 17 % 3  # Both have same precedence, left to right
print(f"17 / 3 + 17 % 3 = {result}")  # 5.666... + 2 = 7.666...

# Using parentheses to override precedence
result1 = 2 * 3 + 4  # Multiplication first: 6 + 4 = 10
result2 = 2 * (3 + 4)  # Parentheses first: 2 * 7 = 14
print(f"2 * 3 + 4 = {result1}")  # 10
print(f"2 * (3 + 4) = {result2}")  # 14
</code>
        </div>
      </div>

      <div class="lesson-section">
        <h2 class="section-title">
          <i class="fas fa-laptop-code"></i>
          Practice: Operator Precedence
        </h2>
        
        <div class="interactive-section">
          <div class="interactive-title">
            <i class="fas fa-laptop-code"></i>
            Interactive Python Code Editor
          </div>
          <p>Try evaluating these expressions and see if you can predict the results:</p>
          
          <div class="code-editor">
            <div class="editor-header">
              <div class="editor-title">Python Editor</div>
              <div class="editor-tabs">
                <div class="tab active">main.py</div>
              </div>
            </div>
            <textarea id="code-input" placeholder="# Write your Python code here..."># Practice operator precedence
# Try to predict these results before running!

# Expression 1
result1 = 5 + 2 * 3
print(f"5 + 2 * 3 = {result1}")

# Expression 2  
result2 = (5 + 2) * 3
print(f"(5 + 2) * 3 = {result2}")

# Expression 3
result3 = 2 ** 3 ** 2
print(f"2 ** 3 ** 2 = {result3}")

# Expression 4
result4 = 10 - 3 + 2
print(f"10 - 3 + 2 = {result4}")

# Expression 5
result5 = True or False and False
print(f"True or False and False = {result5}")
</textarea>
            
            <div class="console-header">
              <i class="fas fa-terminal"></i> Console Output
            </div>
            <div id="code-output" class="console-output">Ready to run your code...</div>
          </div>
          
          <div class="exercise-controls">
            <button class="btn" onclick="runCode()">
              <i class="fas fa-play"></i> Run Code
            </button>
            <button class="btn btn-secondary" onclick="clearOutput()">
              <i class="fas fa-trash"></i> Clear
            </button>
            <button class="btn btn-secondary" onclick="resetCode()">
              <i class="fas fa-undo"></i> Reset
            </button>
          </div>
        </div>

        <div class="interactive-section">
          <h3 style="margin-bottom: 1.5rem;">
            <i class="fas fa-pencil-alt"></i>
            Guided Exercises
          </h3>
          
          <div class="exercise-container">
            <div class="exercise-input">
              <h4>Exercise 1: Basic Precedence</h4>
              <p>What is the result of: <code>3 + 4 * 2</code></p>
              <textarea placeholder="result = 3 + 4 * 2"></textarea>
              <button class="btn btn-success" onclick="checkAnswer(1, '11')">Check Answer</button>
            </div>
            
            <div class="exercise-input">
              <h4>Exercise 2: Exponentiation</h4>
              <p>What is the result of: <code>2 ** 3 ** 2</code></p>
              <textarea placeholder="result = 2 ** 3 ** 2"></textarea>
              <button class="btn btn-success" onclick="checkAnswer(2, '512')">Check Answer</button>
            </div>
          </div>
          
          <div class="exercise-container">
            <div class="exercise-input">
              <h4>Exercise 3: Mixed Operations</h4>
              <p>What is the result of: <code>5 > 3 and 2 < 4</code></p>
              <textarea placeholder="result = 5 > 3 and 2 < 4"></textarea>
              <button class="btn btn-success" onclick="checkAnswer(3, 'True')">Check Answer</button>
            </div>
            
            <div class="exercise-input">
              <h4>Exercise 4: Parentheses Override</h4>
              <p>What is the result of: <code>(5 + 3) * 2 ** 2</code></p>
              <textarea placeholder="result = (5 + 3) * 2 ** 2"></textarea>
              <button class="btn btn-success" onclick="checkAnswer(4, '32')">Check Answer</button>
            </div>
          </div>
        </div>
      </div>

      <div class="lesson-section">
        <h2 class="section-title">
          <i class="fas fa-question-circle"></i>
          Knowledge Check
        </h2>
        
        <div class="quiz-question">
          <h3>Question 1: What is the result of 2 + 3 * 4?</h3>
          <ul class="quiz-options">
            <li class="quiz-option" onclick="selectOption(this, false)">
              <input type="radio" name="q1" value="a"> 20
            </li>
            <li class="quiz-option" onclick="selectOption(this, true)">
              <input type="radio" name="q1" value="b"> 14
            </li>
            <li class="quiz-option" onclick="selectOption(this, false)">
              <input type="radio" name="q1" value="c"> 11
            </li>
            <li class="quiz-option" onclick="selectOption(this, false)">
              <input type="radio" name="q1" value="d"> 24
            </li>
          </ul>
        </div>
        
        <div class="quiz-question">
          <h3>Question 2: Which operator has the highest precedence?</h3>
          <ul class="quiz-options">
            <li class="quiz-option" onclick="selectOption(this, false)">
              <input type="radio" name="q2" value="a"> **
            </li>
            <li class="quiz-option" onclick="selectOption(this, true)">
              <input type="radio" name="q2" value="b"> ()
            </li>
            <li class="quiz-option" onclick="selectOption(this, false)">
              <input type="radio" name="q2" value="c"> *
            </li>
            <li class="quiz-option" onclick="selectOption(this, false)">
              <input type="radio" name="q2" value="d"> +
            </li>
          </ul>
        </div>
        
        <div class="quiz-question">
          <h3>Question 3: What is the result of True or False and False?</h3>
          <ul class="quiz-options">
            <li class="quiz-option" onclick="selectOption(this, true)">
              <input type="radio" name="q3" value="a"> True
            </li>
            <li class="quiz-option" onclick="selectOption(this, false)">
              <input type="radio" name="q3" value="b"> False
            </li>
            <li class="quiz-option" onclick="selectOption(this, false)">
              <input type="radio" name="q3" value="c"> None
            </li>
            <li class="quiz-option" onclick="selectOption(this, false)">
              <input type="radio" name="q3" value="d"> Error
            </li>
          </ul>
        </div>
        
        <button class="btn btn-success" onclick="submitQuiz()" style="margin-top: 2rem;">
          <i class="fas fa-check"></i> Submit Quiz
        </button>
      </div>

      <div class="navigation-buttons">
        <a href="lesson1-2.html" class="btn btn-secondary">
          <i class="fas fa-arrow-left"></i> Previous Lesson
        </a>
        
        <div class="progress-indicator">
          <span>Lesson Progress:</span>
          <div class="progress-bar">
            <div class="progress-fill" id="lesson-progress"></div>
          </div>
          <span id="progress-text">0%</span>
        </div>
        
        <a href="lesson1-4.html" class="btn" id="next-lesson" style="display: none;">
          Next Lesson <i class="fas fa-arrow-right"></i>
        </a>
      </div>
    </main>

    <aside class="activity-panel">
      <h3 class="activity-title">
        <i class="fas fa-tasks"></i>
        Learning Objectives
      </h3>
      
      <div class="activity-item completed">
        <h4>Precedence Rules</h4>
        <p>Understand operator precedence order</p>
      </div>
      
      <div class="activity-item current">
        <h4>Expression Evaluation</h4>
        <p>Predict results of complex expressions</p>
      </div>
      
      <div class="activity-item">
        <h4>Parentheses Usage</h4>
        <p>Use parentheses to control evaluation order</p>
      </div>
      
      <div class="activity-item">
        <h4>Common Mistakes</h4>
        <p>Avoid precedence-related errors</p>
      </div>

      <div style="margin-top: 2rem; padding-top: 1rem; border-top: 1px solid #e9ecef;">
        <h3 style="margin-bottom: 1rem;">
          <i class="fas fa-trophy"></i>
          Progress
        </h3>
        
        <div style="text-align: center;">
          <div style="font-size: 2rem; color: #27ae60; margin-bottom: 0.5rem;">3/16</div>
          <div style="color: #7f8c8d;">Lessons Completed</div>
        </div>
      </div>
    </aside>
  </div>
  
  <!-- Modal for feedback -->
  <div id="feedbackModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <div class="modal-header">
        <i id="modalIcon" class="fas fa-check-circle modal-icon"></i>
        <h2 id="modalTitle" class="modal-title">Success!</h2>
      </div>
      <div id="modalBody" class="modal-body">
        Great job! Your answer is correct.
      </div>
      <div class="modal-footer">
        <button class="btn" onclick="closeModal()">Continue</button>
      </div>
    </div>
  </div>

  <script>
    // Code execution simulation
    function runCode() {
      const code = document.getElementById('code-input').value;
      const output = document.getElementById('code-output');
      
      output.innerHTML = '<span style="color: #3498db;">█ Running code...</span>';
      
      setTimeout(() => {
        try {
          // Simple Python simulation for this lesson
          let result = '';
          const lines = code.split('\n');
          
          lines.forEach(line => {
            line = line.trim();
            if (line.startsWith('print(')) {
              // Simulate precedence examples
              if (line.includes('5 + 2 * 3')) {
                result += "5 + 2 * 3 = 11\n";
              } else if (line.includes('(5 + 2) * 3')) {
                result += "(5 + 2) * 3 = 21\n";
              } else if (line.includes('2 ** 3 ** 2')) {
                result += "2 ** 3 ** 2 = 512\n";
              } else if (line.includes('10 - 3 + 2')) {
                result += "10 - 3 + 2 = 9\n";
              } else if (line.includes('True or False and False')) {
                result += "True or False and False = True\n";
              } else {
                // Handle regular print statements
                const match = line.match(/print\(['"`]([^'"`]*?)['"`]\)/);
                if (match) {
                  result += match[1] + '\n';
                }
              }
            }
          });
          
          if (!result) {
            result = '✓ Code executed successfully!\nTry the precedence examples above.';
          }
          
          output.innerHTML = result || 'No output generated.';
        } catch (error) {
          output.innerHTML = `<span style="color: #e74c3c;">❌ Error: ${error.message}</span>`;
        }
      }, 800);
    }
    
    function clearOutput() {
      document.getElementById('code-output').innerHTML = '<span style="color: #7f8c8d;">Output cleared. Ready for next execution.</span>';
    }
    
    function resetCode() {
      document.getElementById('code-input').value = `# Practice operator precedence
# Try to predict these results before running!

# Expression 1
result1 = 5 + 2 * 3
print(f"5 + 2 * 3 = {result1}")

# Expression 2  
result2 = (5 + 2) * 3
print(f"(5 + 2) * 3 = {result2}")

# Expression 3
result3 = 2 ** 3 ** 2
print(f"2 ** 3 ** 2 = {result3}")

# Expression 4
result4 = 10 - 3 + 2
print(f"10 - 3 + 2 = {result4}")

# Expression 5
result5 = True or False and False
print(f"True or False and False = {result5}")`;
      clearOutput();
    }
    
    // Copy code functionality
    function copyCode(button) {
      const codeBlock = button.parentElement;
      const code = codeBlock.querySelector('code').textContent;
      
      navigator.clipboard.writeText(code).then(() => {
        button.textContent = 'Copied!';
        setTimeout(() => {
          button.textContent = 'Copy';
        }, 2000);
      });
    }
    
    // Modal functionality
    function showModal(title, message, isSuccess = true) {
      const modal = document.getElementById('feedbackModal');
      const modalTitle = document.getElementById('modalTitle');
      const modalBody = document.getElementById('modalBody');
      const modalIcon = document.getElementById('modalIcon');
      
      modalTitle.textContent = title;
      modalBody.textContent = message;
      
      if (isSuccess) {
        modalIcon.className = 'fas fa-check-circle modal-icon';
        modalIcon.style.color = '#27ae60';
      } else {
        modalIcon.className = 'fas fa-exclamation-circle modal-icon error';
        modalIcon.style.color = '#e74c3c';
      }
      
      modal.style.display = 'block';
    }
    
    function closeModal() {
      document.getElementById('feedbackModal').style.display = 'none';
    }
    
    // Exercise checking with modal feedback
    function checkAnswer(exerciseNum, expectedAnswer) {
      showModal(
        'Exercise Complete!', 
        `Exercise ${exerciseNum}: Great job! The correct answer is ${expectedAnswer}. Understanding precedence is key to writing correct expressions.`,
        true
      );
    }
    
    // Quiz functionality
    let quizAnswers = {};
    
    function selectOption(element, isCorrect) {
      const radio = element.querySelector('input');
      radio.checked = true;
      
      const questionNum = radio.name;
      quizAnswers[questionNum] = isCorrect;
      
      // Visual feedback
      const allOptions = element.parentElement.querySelectorAll('.quiz-option');
      allOptions.forEach(opt => opt.style.background = '');
      element.style.background = isCorrect ? '#d5f4e6' : '#fdeaea';
    }
    
    function submitQuiz() {
      const totalQuestions = 3;
      const correctAnswers = Object.values(quizAnswers).filter(answer => answer === true).length;
      const score = Math.round((correctAnswers / totalQuestions) * 100);
      
      let message = `Quiz Complete!\nScore: ${score}% (${correctAnswers}/${totalQuestions})\n\n`;
      
      if (score >= 80) {
        message += "Excellent work! You understand operator precedence well.";
        // Unlock next lesson
        localStorage.setItem('lesson1.3_completed', 'true');
        updateProgress();
      } else {
        message += "Good effort! Review the precedence table and try again.";
      }
      
      showModal('Quiz Results', message, score >= 80);
    }
    
    // Progress tracking
    function updateProgress() {
      const completed = localStorage.getItem('lesson1.3_completed') === 'true';
      if (completed) {
        document.getElementById('lesson-progress').style.width = '100%';
        document.getElementById('progress-text').textContent = '100%';
        document.getElementById('next-lesson').style.display = 'block';
      }
    }
    
    // Initialize page
    document.addEventListener('DOMContentLoaded', () => {
      updateProgress();
      console.log('Lesson 1.3: Operator Precedence loaded successfully');
      
      // Close modal when clicking the X or outside the modal
      window.onclick = function(event) {
        const modal = document.getElementById('feedbackModal');
        if (event.target == modal) {
          closeModal();
        }
      }
      
      document.querySelector('.close').onclick = closeModal;
      
      // Initialize code editor with default content
      resetCode();
    });
  </script>
</body>
</html>