<!-- Cached component: layouts/head.html -->
<!-- Head Component - Extracted from base.html -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{% block description %}Learn Python programming with interactive lessons, quizzes, and real-time coding practice. Master Python for IT Specialist certification.{% endblock %}">
    <meta name="keywords" content="Python, programming, education, coding, IT Specialist, certification">
    <meta name="author" content="CodeLab - Mr. Morais">
    
    <!-- Open Graph Tags -->
    <meta property="og:title" content="{% block og_title %}{{ self.title() }}{% endblock %}">
    <meta property="og:description" content="{% block og_description %}{{ self.description() }}{% endblock %}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ request.url }}">
    <meta property="og:site_name" content="CodeLab">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{% block twitter_title %}{{ self.og_title() }}{% endblock %}">
    <meta name="twitter:description" content="{% block twitter_description %}{{ self.og_description() }}{% endblock %}">
    
    <title>{% block title %}CodeLab{% endblock %}</title>
    
    <!-- Optimized font loading: combine requests and use display=swap -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@300;400;500;700&family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap" rel="stylesheet">
    
    <!-- Main CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/theme.css', v=g.css_version) }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/pycoin-icon.css', v=g.css_version) }}">
    
    <!-- Conditional CSS for specific pages -->
    {% if active_page == 'dashboard_course' %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/course_dashboard.css', v=g.css_version) }}">
    {% endif %}
    
    <!-- Block for additional styles -->
    {% block styles %}{% endblock %}
    {% block head_extra %}{% endblock %}
    
    <!-- ðŸŽª NUCLEAR JAVASCRIPT BUNDLES - ULTIMATE SIMPLIFICATION -->
    <script src="{{ url_for('static', filename='dist/core.ultimate.js', v=g.css_version) }}" defer></script>
    
    <!-- Dashboard JavaScript (loaded conditionally) -->
    {% if active_page == 'dashboard_course' %}
    <script src="{{ url_for('static', filename='dist/dashboard.ultimate.js', v=g.css_version) }}" defer></script>
    {% endif %}
    
    <!-- Critical CSS for theme and sidebar -->
    <script>
      // Prevent white/dark flash by setting the correct theme before CSS loads
      (function() {
        try {
          var theme = localStorage.getItem('theme');
          if (theme === 'light') {
            document.documentElement.setAttribute('data-theme', 'light');
          } else {
            document.documentElement.setAttribute('data-theme', 'dark');
          }
        } catch (e) {
          document.documentElement.setAttribute('data-theme', 'dark');
        }
      })();
      // Prevent sidebar flicker: add collapsed class before DOMContentLoaded
      try {
        if (localStorage.getItem('sidebar-collapsed') === 'true') {
          document.documentElement.classList.add('sidebar-collapsed-preload');
        }
      } catch (e) {}
    </script>
    
        
    <!-- ACE Editor CDN for code snippets -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.3/ace.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.3/mode-python.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.3/theme-monokai.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <!-- Firebase Config -->
    <script type="text/javascript">
        // Pass config as a JS object for Firebase modular SDK
        window.firebaseConfig = {{ firebase_config | tojson | safe }};
    </script>
</head>
