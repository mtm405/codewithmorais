<div class="block-multiple-choice mcq-image-style mcq-inline p-0-5 bg-white border-1px-solid-e0d0fa rounded-7 box-shadow-mcq overflow-hidden" data-block-id="{{ block.id }}" data-topic-id="{{ block.topic_id or block.topic|default('unknown_topic') }}">
  <!-- College-style ribbon with subtle look -->
  <div class="mcq-ribbon">
    <span class="color-4B367C">Question 1 of 1</span>
    <span class="mcq-badge">1 Byte</span>
  </div>
  <div class="flex justify-content-flex-end mb-1">
    <button class="mcq-refresh-btn btn-refresh">Refresh Quiz</button>
  </div>
  {% if block.question %}
    <div class="mcq-question-row mb-0-2">
      <div class="mcq-question mb-0-2 font-size-1-08em font-weight-600 color-4B367C bg-none">{{ block.question | replace('1 pt','') | replace('.', '') | markdown | safe }}</div>
      <div class="mcq-options-grid" data-correct-idx="{{ block.correct_index|int }}">
        {% for opt in block.options %}
          <button type="button" class="mcq-option-btn mcq-modern-btn">{{ opt | markdown | safe }}</button>
        {% endfor %}
      </div>
    </div>
  {% elif block.questions %}
    {% set q = block.questions[0] %}
    <div class="mcq-question-row mb-0-2">
      <div class="mcq-question mb-0-2 font-size-1-08em font-weight-600 color-4B367C bg-none">{{ q.question | replace('1 pt','') | replace('.', '') | markdown | safe }}</div>
      <div class="mcq-options-grid" data-correct-idx="{{ q.correct_index|int }}">
        {% for opt in q.options %}
          <button type="button" class="mcq-option-btn mcq-modern-btn">{{ opt | markdown | safe }}</button>
        {% endfor %}
      </div>
    </div>
  {% else %}
    <div class="mcq-question-row mb-0-2 accent-red">No question data found for this block</div>
  {% endif %}
  <div class="mcq-feedback feedback mt-0-3 d-none"></div>
</div>
